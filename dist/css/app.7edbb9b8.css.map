{"version":3,"sources":["webpack:///src/components/src/components/HelloWorld.vue","webpack:///src/components/src/components/SearchBar.vue","webpack:///src/components/src/components/Nav.vue","webpack:///src/components/src/components/Footer.vue","webpack:///src/page/src/page/Home.vue","webpack:///src/components/src/components/Pagination.vue","webpack:///src/page/src/page/Search.vue","webpack:///src/src/App.vue","webpack:///src/css/global.css","webpack:///src/page/src/page/Detail.vue","webpack:///src/page/src/page/Pay.vue","webpack:///src/page/src/page/Login.vue","webpack:///src/page/src/page/Signup.vue","webpack:///src/css/sidenav.css","app.7edbb9b8.css","webpack:///src/components/src/components/SideNav.vue","webpack:///src/page/src/page/MeSetting.vue","webpack:///src/page/src/page/Cart.vue","webpack:///src/page/order/src/page/order/Confirm.vue","webpack:///src/page/order/src/page/order/NewOrder.vue","webpack:///src/page/order/src/page/order/MeOrder.vue","webpack:///src/components/src/components/AdminNav.vue","webpack:///src/components/src/components/DropDown.vue","webpack:///src/mixin/src/mixin/AdminPage.vue","webpack:///src/page/admin/src/page/admin/User.vue","webpack:///src/page/admin/src/page/admin/Breed.vue","webpack:///src/page/admin/src/page/admin/Location.vue","webpack:///src/page/admin/src/page/admin/Material.vue","webpack:///src/page/admin/src/page/admin/Order.vue","webpack:///src/page/admin/src/page/admin/Ptype.vue","webpack:///src/page/admin/src/page/admin/Product.vue","webpack:///src/page/admin/src/page/admin/Occasion.vue","webpack:///src/page/admin/src/page/admin/Category.vue","webpack:///src/page/admin/src/page/admin/AdminCart.vue"],"names":[],"mappings":"AA0CA,oBACA,eAAA,CACA,AACA,oBACA,qBAAA,AACA,SAAA,CACA,AACA,oBACA,qBAAA,AACA,aAAA,CACA,AACA,mBACA,aAAA,CACA,ACOA,6BACA,aAAA,CACA,AACA,uEAGA,aAAA,AADA,QAAA,CAEA,AACA,mCAGA,wCAAA,AADA,SAAA,CAEA,AACA,wBACA,aAAA,CACA,AAEA,oEACA,+BAAA,sBAAA,CACA,AACA,yDACA,SAAA,CACA,ACoIA,sBAEA,kBAAA,AADA,UAAA,CAEA,AACA,2BACA,gBAAA,CACA,AACA,mDAEA,gBAAA,CACA,AACA,2BACA,aAAA,CACA,AACA,sBACA,mBAAA,AAKA,kBAAA,AAHA,SAAA,AAIA,cAAA,AAHA,UAAA,AAFA,OAAA,AAGA,UAAA,CAGA,AAEA,uBAEA,qBAAA,CACA,AACA,4BACA,0BAAA,CACA,AACA,4BAGA,YAAA,AAFA,kBAAA,AACA,WAAA,CAEA,AACA,4BACA,iBAAA,CACA,AACA,wBACA,qBAAA,AACA,cAAA,CACA,AACA,2BAGA,WAAA,AAFA,qBAAA,AACA,eAAA,AAEA,oBAAA,CACA,AACA,0DAEA,oBAAA,CACA,AACA,0EAGA,eAAA,AADA,iBAAA,CAEA,AACA,wDAMA,+CAAA,AAHA,gBAAA,AAEA,iCAAA,AAGA,kBAAA,AAFA,uCAAA,AAJA,kBAAA,AAEA,SAAA,AAGA,UAAA,CAEA,AACA,uCACA,aAAA,AACA,eAAA,CACA,AACA,4BAGA,iBAAA,AADA,YAAA,AADA,WAAA,CAGA,AACA,4BAIA,6BAAA,AAFA,UAAA,AACA,gBAAA,AAFA,WAAA,CAIA,AACA,mCACA,aAAA,AACA,iBAAA,CACA,AAEA,mCAIA,wCAAA,AAFA,gBAAA,AACA,WAAA,CAEA,AACA,yCACA,YAAA,CACA,AACA,uCAGA,kBAAA,AAFA,aAAA,CAIA,AACA,wCACA,eAAA,CACA,AACA,6CACA,cAAA,CACA,AACA,8CACA,WAAA,CACA,AACA,2CAGA,YAAA,AAFA,kBAAA,AACA,UAAA,CAEA,AACA,8CAEA,WAAA,AADA,eAAA,CAEA,AACA,iGAEA,iBAAA,CACA,AACA,gDACA,UAAA,CACA,AACA,+CACA,eAAA,CACA,AACA,qCACA,mBAAA,AACA,SAAA,AACA,YAAA,CACA,AACA,qCACA,mBAAA,AACA,kBAAA,AAEA,WAAA,AADA,YAAA,AAEA,iBAAA,CACA,AACA,uCACA,WAAA,CACA,AACA,6BACA,eAAA,AACA,gBAAA,AACA,eAAA,CACA,AACA,8EACA,+BAAA,sBAAA,CACA,AACA,mEACA,SAAA,CACA,AACA,8EACA,+BAAA,sBAAA,CACA,AACA,mEACA,SAAA,CACA,AACA,sFACA,+BAAA,sBAAA,CACA,AACA,2EACA,SAAA,CACA,AC/WA,yBAGA,qCAAA,AAEA,cAAA,AAJA,gBAAA,AACA,YAAA,CAIA,AACA,sBACA,iBAAA,CACA,ACkGA,yBACA,iBAAA,CACA,AAMA,yBACA,WAAA,CACA,AACA,sBACA,aAAA,CACA,AACA,iCAKA,2BAAA,AAJA,iBAAA,AACA,gBAAA,AAEA,cAAA,AADA,cAAA,CAGA,AACA,sCAGA,cAAA,AAFA,iBAAA,AACA,eAAA,CAEA,AACA,4BAGA,SAAA,AADA,UAAA,AADA,iBAAA,CAGA,AACA,kCAEA,uBAAA,AAGA,wBAAA,AAFA,eAAA,AAGA,eAAA,CACA,AACA,gCACA,YAAA,CACA,AACA,iCAKA,mBAAA,AAFA,YAAA,AAGA,WAAA,AALA,iBAAA,AAGA,SAAA,AAIA,WAAA,AADA,iBAAA,AALA,iBAAA,CAOA,AAIA,yFACA,kBAAA,CACA,AACA,2CACA,YAAA,CACA,AACA,4CACA,iBAAA,AACA,UAAA,CACA,ACtFA,6BAEA,eAAA,AADA,iBAAA,CAEA,AACA,qCACA,kBAAA,CACA,ACwMA,8BACA,aAAA,CACA,AACA,8BACA,iBAAA,CACA,AACA,6BACA,mBAAA,AACA,aAAA,AACA,iBAAA,CACA,AACA,8BAEA,cAAA,AADA,YAAA,CAEA,AACA,kCAEA,YAAA,AACA,WAAA,AAFA,UAAA,CAGA,AACA,oCACA,eAAA,CACA,AACA,4BAMA,iCAAA,AAHA,OAAA,AAIA,UAAA,AANA,kBAAA,AACA,SAAA,AAGA,WAAA,AADA,SAAA,CAIA,AACA,mCACA,mBAAA,AACA,qBAAA,AACA,cAAA,CACA,AACA,0CACA,iBAAA,AACA,iBAAA,CACA,AACA,0FAEA,iBAAA,CACA,AACA,6BAEA,uBAAA,AAMA,wBAAA,AALA,eAAA,AAMA,gBAAA,AACA,gBAAA,CACA,AACA,sBACA,8BAAA,AAGA,kBAAA,AAHA,sBAAA,AAKA,eAAA,AADA,mBAAA,AAHA,WAAA,CAKA,AACA,sBACA,iBAAA,CACA,AACA,0BAEA,WAAA,AADA,UAAA,CAEA,AACA,4BASA,gBAAA,AADA,kBAAA,AAFA,cAAA,AAFA,eAAA,AADA,UAAA,AAIA,YAAA,AAFA,kBAAA,AAKA,SAAA,CACA,AACA,6BACA,UAAA,CAEA,AACA,4BACA,SAAA,CACA,AAEA,kCACA,WAAA,AAGA,SAAA,CACA,AACA,qCACA,SAAA,CACA,AACA,6BAEA,aAAA,AAEA,kBAAA,AADA,kBAAA,AAFA,UAAA,CAIA,AACA,+BACA,ikFAAA,AAEA,wBAAA,AADA,4BAAA,AAEA,wBAAA,AACA,WAAA,CACA,AACA,0BAEA,WAAA,AADA,YAAA,CAEA,AC/YA,KAGA,kCAAA,AADA,mCAAA,AAGA,cAAA,AAJA,8CAAA,AAKA,gBAAA,AAFA,iBAAA,CAGA,ACjCA,EACI,8BAA+B,AAE/B,qBAAuB,CAC1B,AAED,KACI,uBAAwB,AACxB,cAAgB,CACnB,AAED,IAEI,cAAe,AADf,cAAgB,CAEnB,AAMD,OAHI,oBAAsB,CAMzB,AAHD,EACI,oBAAsB,CAEzB,AAED,WAEI,iBAAkB,AAClB,kBAAmB,AAFnB,gBAAkB,CAGrB,AAED,GAII,SAA2C,AAA3C,wCAA2C,AAH3C,cAAe,AACf,QAAU,CAGb,AAED,MACI,eAAiB,CACpB,AAED,OACI,gBAAkB,CACrB,AAED,KAEI,cAAe,AADf,WAAa,CAEhB,AAED,aACI,qBAAsB,AAEtB,eAAgB,AADhB,kBAAoB,CAKvB,AAED,UACI,kBAAoB,CACvB,AAED,UACI,mBAAqB,CACxB,AAED,UACI,SAAW,CACd,AAED,UACI,oBAAsB,CACzB,AAED,UACI,oBAAsB,CACzB,AAED,UACI,SAAW,CACd,AAED,UACI,kBAAoB,CACvB,AAED,UACI,mBAAqB,CACxB,AAED,UACI,SAAW,CACd,AAED,WACI,qBAAuB,CAC1B,AAED,WACI,qBAAuB,CAC1B,AAED,WACI,UAAY,CACf,AAED,yBACI,UACI,kBAAoB,CACvB,AACD,UACI,mBAAqB,CACxB,AACD,UACI,SAAW,CACd,AACD,UACI,oBAAsB,CACzB,AACD,UACI,oBAAsB,CACzB,AACD,UACI,SAAW,CACd,AACD,UACI,kBAAoB,CACvB,AACD,UACI,mBAAqB,CACxB,AACD,UACI,SAAW,CACd,AACD,WACI,qBAAuB,CAC1B,AACD,WACI,qBAAuB,CAC1B,AACD,WACI,UAAY,CACf,CACJ,AAID,aAIE,gCAAoC,AADpC,eAAgB,AAGhB,UAAW,AAJX,YAAa,AAGb,kBAAoB,CAErB,AAED,eACI,aAAe,CAClB,AAED,iBACI,qBAAuB,CAE1B,AACD,gBACI,YAAc,CACjB,AACD,qBACI,cAAe,AACf,WAAa,CAChB,AACD,KACI,eAAiB,CACpB,AACD,aAEI,aAAe,CAClB,AAED,SACI,kBAAmB,AACnB,kBAAoB,CACvB,AAID,MACI,yBAA0B,AAC1B,UAAY,CACf,AAED,MACI,eAAgB,AAChB,aAAc,AACd,iBAAmB,CACtB,AAED,GACI,sCAA2C,CAC9C,AAED,GACI,sCAA2C,CAC9C,AAED,eACI,0BAA+B,CAClC,AAED,iBACI,eAAa,CAChB,AAKA,YAEG,WAAY,AACZ,gBAAkB,AAFlB,WAAa,CAGhB,AACD,OACI,WAAa,CAChB,AAED,oDAIE,mBAAoB,AADpB,UAAY,CAEb,AAED,cACI,WAAa,CAChB,AAGD,OACI,cAAe,AACf,WAAe,AACf,WAAe,AACf,cAAe,AACf,cAAe,AACf,cAAe,AACf,aAAe,CAClB,ACzGD,0BAEA,2BAAA,AADA,cAAA,CAEA,AACA,uBAEA,aAAA,AADA,gBAAA,CAEA,AACA,kCACA,eAAA,AACA,qBAAA,CACA,AACA,mCAEA,kBAAA,AADA,YAAA,CAEA,AACA,yCACA,mBAAA,AACA,WAAA,AACA,cAAA,CACA,AACA,+BACA,gBAAA,CACA,AACA,sBACA,iBAAA,CACA,AACA,wBACA,iCAAA,AACA,gBAAA,CAEA,ACjFA,0BACA,iBAAA,CACA,AACA,6BACA,oBAAA,CACA,ACIA,4BAGA,gBAAA,AAIA,iCAAA,AAHA,iBAAA,AACA,kBAAA,AAJA,gBAAA,AAKA,kBAAA,AAJA,WAAA,CAMA,AACA,oBAEA,iBAAA,AADA,SAAA,AAEA,iBAAA,CACA,AAEA,yBAEA,4BAAA,AACA,wBAAA,AAFA,YAAA,CAGA,AAEA,qEAGA,eAAA,AACA,YAAA,AAFA,UAAA,CAGA,AAEA,mCACA,mBAAA,AACA,UAAA,CACA,AC2BA,4BAGA,gBAAA,AAIA,iCAAA,AAHA,iBAAA,AACA,kBAAA,AAJA,gBAAA,AAKA,kBAAA,AAJA,WAAA,CAMA,AACA,oBAEA,iBAAA,AADA,SAAA,AAEA,iBAAA,CACA,AAEA,uBAEA,4BAAA,AACA,wBAAA,AAFA,YAAA,CAGA,AAMA,6BACA,aAAA,CACA,AAEA,qEAGA,eAAA,AACA,YAAA,AAFA,UAAA,CAGA,AAEA,mCACA,mBAAA,AACA,UAAA,CACA,AACA,wCAEA,qBAAA,AACA,iBAAA,CACA,AACA,+CACA,+BAAA,CACA,AACA,qCACA,SAAA,CACA,AACA,oCACA,SAAA,CACA,AACA,gCACA,QAAA,CACA,ACvNA,UAII,+CAA0C,AAH1C,gBAAiB,AACjB,iCAAqC,AAErC,uCAA0C,AAD1C,iBAAmB,CAEtB,AAED,oBAEI,WAAY,AACZ,cAAe,AAFf,iBAAkB,AAGlB,iBAAmB,CACtB,AACD,2BACI,0BAA+B,CCyyBlC,ACtyBD,qCAGA,+CAAA,AAFA,mBAAA,AAEA,uCAAA,AADA,UAAA,CAEA,ACyHA,4BAEA,uCAAA,AADA,gBAAA,CAEA,AACA,kCACA,UAAA,CACA,AAEA,sBAEA,cAAA,AADA,gBAAA,CAEA,AACA,wBACA,cAAA,CACA,AC/CA,uBACA,iCAAA,AACA,mBAAA,AACA,YAAA,CACA,AACA,wBACA,kBAAA,CACA,AACA,kCAEA,wCAAA,AADA,YAAA,CAEA,AACA,8BACA,cAAA,CACA,AACA,+BACA,YAAA,CACA,AACA,gCACA,WAAA,CACA,AACA,uBACA,gBAAA,CACA,AACA,2DAEA,aAAA,CACA,ACgFA,wBACA,iCAAA,AACA,kBAAA,CACA,AACA,8DAEA,aAAA,AACA,iBAAA,CACA,AACA,kEAEA,kBAAA,CACA,AACA,uCACA,eAAA,CACA,AACA,8BAEA,wCAAA,AADA,mBAAA,CAEA,AACA,+BAEA,kBAAA,AADA,kBAAA,CAEA,AACA,kCAEA,aAAA,AADA,WAAA,CAEA,AAEA,kEAGA,iBAAA,CACA,AACA,kCACA,uCAAA,CACA,AACA,4CACA,qBAAA,AACA,cAAA,CACA,AACA,6CACA,qBAAA,CACA,AACA,gDACA,kBAAA,CACA,AACA,uCACA,wCAAA,CACA,AACA,sCAEA,oBAAA,AADA,iBAAA,CAGA,AACA,qCAGA,mBAAA,AADA,kBAAA,AAEA,WAAA,AACA,eAAA,AAJA,iBAAA,CAKA,AACA,uCAEA,iBAAA,AADA,wBAAA,CAEA,ACpLA,wBACA,iCAAA,AACA,mBAAA,AACA,YAAA,CACA,AACA,yBACA,kBAAA,CACA,AACA,8BAEA,wCAAA,AADA,mBAAA,CAEA,AACA,+BACA,cAAA,CACA,AACA,uBACA,gBAAA,CACA,AACA,6DAEA,aAAA,CACA,AC4BA,sBAEA,gCAAA,AACA,WAAA,AACA,eAAA,AACA,aAAA,AAJA,WAAA,CAKA,AACA,uBAIA,0BAAA,AADA,YAAA,AAFA,eAAA,AACA,UAAA,CAGA,AACA,8BAMA,mBAAA,AADA,aAAA,AAFA,SAAA,AAIA,aAAA,AANA,kBAAA,AACA,QAAA,AAEA,WAAA,CAIA,AACA,wBACA,cAAA,CACA,AACA,yBACA,kBAAA,CACA,AACA,+BAEA,uCAAA,AADA,iBAAA,AAEA,iBAAA,AACA,iBAAA,CACA,AACA,qCACA,aAAA,CACA,AACA,sCACA,qBAAA,AACA,aAAA,CACA,AACA,6BAEA,aAAA,AACA,kBAAA,AAFA,WAAA,CAGA,AAEA,0BACA,UAAA,CACA,AACA,4BACA,qiFAAA,AAEA,wBAAA,AADA,4BAAA,AAEA,YAAA,CACA,ACpLA,qCAGA,+CAAA,AAFA,mBAAA,AAEA,uCAAA,AADA,UAAA,CAEA,ACqJA,kDAIA,UAAA,CACA,AACA,WAGA,WAAA,AADA,kBAAA,AADA,UAAA,CAGA,AACA,UAGA,eAAA,AAFA,iBAAA,CAGA,AACA,gBAEA,qBAAA,AADA,eAAA,CAEA,AACA,uBAEA,gBAAA,AAIA,yBAAA,AAFA,cAAA,AACA,eAAA,AAFA,WAAA,CAIA,AACA,4BACA,eAAA,CACA,AACA,uDAEA,oBAAA,CACA,AAEA,kBACA,mBAAA,AACA,UAAA,CACA,AAEA,WACA,kBAAA,AACA,UAAA,CACA,ACnGA,qEAEA,mBAAA,AACA,UAAA,CACA,AACA,uCACA,aAAA,CACA,ACzCA,gCACA,cAAA,AACA,aAAA,CACA,AACA,qEAEA,mBAAA,AACA,UAAA,CACA,AACA,uCACA,aAAA,CACA,AC9BA,gCACA,cAAA,AACA,aAAA,CACA,AACA,qEAEA,mBAAA,AACA,UAAA,CACA,AACA,uCACA,aAAA,CACA,ACXA,gCACA,cAAA,AACA,aAAA,CACA,AACA,qEAEA,mBAAA,AACA,UAAA,CACA,AACA,uCACA,aAAA,CACA,ACXA,gCACA,cAAA,AACA,aAAA,CACA,AACA,qEAEA,mBAAA,AACA,UAAA,CACA,AACA,uCACA,aAAA,CACA,ACsEA,gCACA,cAAA,AACA,aAAA,CACA,AACA,qEAEA,mBAAA,AACA,UAAA,CACA,AACA,uCACA,aAAA,CACA,AACA,uBAIA,0BAAA,AADA,YAAA,AAFA,eAAA,AACA,UAAA,CAGA,AACA,8BAMA,mBAAA,AADA,aAAA,AAFA,SAAA,AAIA,aAAA,AANA,kBAAA,AACA,QAAA,AAEA,WAAA,CAIA,AACA,wBACA,cAAA,CACA,AC9GA,gCACA,cAAA,AACA,aAAA,CACA,AACA,qEAEA,mBAAA,AACA,UAAA,CACA,AACA,uCACA,aAAA,CACA,ACgIA,qEAEA,mBAAA,AACA,UAAA,CACA,AACA,uCACA,aAAA,CACA,AClJA,gCACA,cAAA,AACA,aAAA,CACA,AACA,qEAEA,mBAAA,AACA,UAAA,CACA,AACA,uCACA,aAAA,CACA,ACCA,gCACA,cAAA,AACA,aAAA,CACA,AACA,qEAEA,mBAAA,AACA,UAAA,CACA,AACA,uCACA,aAAA,CACA,ACcA,gCACA,cAAA,AACA,aAAA,CACA,AACA,qEAEA,mBAAA,AACA,UAAA,CACA,AACA,uCACA,aAAA,CACA","file":"app.7edbb9b8.css","sourcesContent":["<template>\n  <div class=\"hello\">\n    <h1>{{ msg }}</h1>\n    <p>\n      For guide and recipes on how to configure / customize this project,<br>\n      check out the\n      <a href=\"https://cli.vuejs.org\" target=\"_blank\">vue-cli documentation</a>.\n    </p>\n    <h3>Installed CLI Plugins</h3>\n    <ul>\n      <li><a href=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel\" target=\"_blank\">babel</a></li>\n      <li><a href=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint\" target=\"_blank\">eslint</a></li>\n    </ul>\n    <h3>Essential Links</h3>\n    <ul>\n      <li><a href=\"https://vuejs.org\" target=\"_blank\">Core Docs</a></li>\n      <li><a href=\"https://forum.vuejs.org\" target=\"_blank\">Forum</a></li>\n      <li><a href=\"https://chat.vuejs.org\" target=\"_blank\">Community Chat</a></li>\n      <li><a href=\"https://twitter.com/vuejs\" target=\"_blank\">Twitter</a></li>\n    </ul>\n    <h3>Ecosystem</h3>\n    <ul>\n      <li><a href=\"https://router.vuejs.org\" target=\"_blank\">vue-router</a></li>\n      <li><a href=\"https://vuex.vuejs.org\" target=\"_blank\">vuex</a></li>\n      <li><a href=\"https://github.com/vuejs/vue-devtools#vue-devtools\" target=\"_blank\">vue-devtools</a></li>\n      <li><a href=\"https://vue-loader.vuejs.org\" target=\"_blank\">vue-loader</a></li>\n      <li><a href=\"https://github.com/vuejs/awesome-vue\" target=\"_blank\">awesome-vue</a></li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'HelloWorld',\n  props: {\n    msg: String\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n","<template>\n    <form class=\"search-bar\" @submit=\"submit($event);search($event)\" @mouseleave=\"show_input = false\">\n        <transition name=\"tr\">\n          <input @keyup=\"change()\" v-if=\"show_input\" type=\"search\" placeholder=\"请输入关键字\"  v-model=\"keyword\">\n        </transition>\n        <button type=\"submit\" @mouseenter=\"show_input = !show_input\">\n          <i class=\"fa fa-search\" aria-hidden=\"true\"></i>\n        </button>\n    </form>\n</template>\n<script>\nimport api from \"../lib/api\";\n\n  export default {\n    props:{\n      isSearch:{\n        default:true,\n      },\n      model:{\n        default:'model',\n      },\n      searchable:{ //搜索的属性，eg：标题等\n        default:''\n      },\n      onSubmit:{\n        default (){}\n      },\n      onChange(){},\n    },\n    data(){\n      return {\n        keyword:'',\n        show_input:false,\n      }\n    },\n    methods:{\n      change(){\n        if(this.onChange)\n          this.onChange(this.keyword);\n      },\n      submit(e){\n        e.preventDefault();\n\n        if(this.onSubmit)\n          this.onSubmit(this.keyword)\n      },\n      search(e){\n        e.preventDefault();\n        if(this.isSearch){\n          this.$router.push({\n            path:'/search',\n            query:{keyword:this.keyword},\n          })\n        }\n        // if(!this.cb)\n        //   return\n        // this.cb(this.keyword);\n      }\n    }\n  }\n</script>\n<style scoped>\n.search-bar {\n    margin: 10px 0;\n}\n.search-bar input,\n.search-bar button {\n  border: 0;\n  background: 0;\n}\n.search-bar input {\n  /* opacity: 0; */\n  width: 45%;\n  border-bottom: 1px solid rgba(0, 0, 0, .09)\n}\nbutton {\n  border-left: 0;\n}\n\n.tr-enter-active, .tr-leave-active {\n  transition: opacity .5s\n}\n.tr-enter, .tr-leave-to /* .tr-leave-active in below version 2.1.8 */ {\n  opacity: 0\n}\n</style>\n\n","<template>\n    <div :style=\"{marginBottom: this.pushDown ? '20px': 0,}\" :class=\"['container' , 'nav' , is_poa?'poa':'']\">\n        <div class=\"col-lg-4 \">\n            <router-link to=\"/\">\n                <img class=\"logo\" src=\"../assets/img/logo-v2.png\" alt=\"\">\n            </router-link>\n        </div>\n        <div class=\"col-lg-6 right\">\n            <SearchBar/>\n        </div>\n        <div class=\"col-lg-2 right\">\n            <div v-if=\"uinfo\">\n                <div class=\"user-panel\" @mouseover=\"show_user_drop =true\"  @mouseleave=\"show_user_drop = false\">\n                    <div>\n                        <div class=\"nav-item username\" >{{uinfo.username}}</div>\n                    </div>\n                    <transition name=\"tr-user\">\n                        <div class=\"user-drop\" v-if=\"show_user_drop\" :style=\"{top:dropTop,right:dropUserRight}\">\n                            <div v-if=\"uinfo.id == 1\">\n                                <router-link to=\"/admin/user\">\n                                    <i class=\"fa fa-tasks\" aria-hidden=\"true\"></i>\n                                    管理后台\n                                </router-link>\n                            </div>\n                            <div>\n                                <router-link to=\"/order/meorder\">\n                                    <i class=\"fa fa-bars\" aria-hidden=\"true\"></i> \n                                    我的订单\n                                </router-link>\n                            </div>\n                            <div>\n                                <router-link to=\"/me/setting\">\n                                    <i class=\"fa fa-cog\" aria-hidden=\"true\"></i>\n                                    设置\n                                </router-link>\n                            </div>\n                            <div>\n                                <div @click=\"logout\">\n                                    <i class=\"fas fa-sign-out-alt\"></i>\n                                    退出\n                                </div>\n                            </div>\n                        </div>\n                    </transition>\n                </div>\n                <div class=\"cart-panel\" @mouseover=\"onShowCart\" @mouseleave=\"show_cart_drop=false\">\n                    <!-- <div > -->\n                        <div class=\"nav-item cart\">\n                            <!-- 购物车 -->\n                            <i class=\"fas fa-cart-arrow-down\"></i>    \n                        </div>\n                    <!-- </div> -->\n                    <transition name=\"tr-cart\">\n                        <div class=\"cart-drop\" v-if=\"show_cart_drop\" :style=\"{top:dropTop,right:dropCartRight}\">\n                            <div class=\"cart-drop-header\">\n                                <div v-if=\"cart\">\n                                    <input type=\"checkbox\" id=\"allselect\" @click=\"toggle_check\" v-model=\"check_all\">\n                                    <label for=\"allselect\">全选</label>\n                                </div>\n                                <div v-else class=\"empty\">\n                                    空空如也~\n                                </div>\n                            </div>\n                            <div class=\"cart-warp\">\n                                <!-- <transition name=\"tr-cartlist\"> -->\n                                    <div  class=\"cart-list\" v-for=\"(item,index) in cart\" :key=\"index\">\n                                        <div class=\"col-lg-1\">\n                                            <input type=\"checkbox\" v-model=\"item._checked\">\n                                        </div>\n                                        <div class=\"col-lg-2\">\n                                            <img :src=\"item.$product.preview[2].url\" alt=\"\">\n                                        </div>\n                                        <div class=\"col-lg-8 info\">\n                                            <div class=\"name\">{{uinfo.username}}</div>\n                                            <div>\n                                                <div class=\"col-lg-6 count\">x {{item.count}}</div>\n                                                <div class=\"col-lg-6\">\n                                                    <span class=\"currency\">{{item.$product.price}}</span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div class=\"col-lg-1\">\n                                            <div class=\"remove\" @click=\"remove(item.id)\">\n                                                <i class=\"fa fa-times\" aria-hidden=\"true\"></i>\n                                            </div>\n                                        </div>\n                                    </div>\n                                <!-- </transition> -->\n                            </div>\n                            <div class=\"sub-bar\" v-if=\"cart\">\n                                <div class=\"col-lg-8\">\n                                    <!-- <div>已选：{{selected}}</div> -->\n                                    <span>商品共计： </span><span class=\"currency\">{{total}}</span>\n                                </div>\n                                <div class=\"col-lg-4\">\n                                    <router-link :to=\"to()\">\n                                        <button class=\"sub-btn\">\n                                            提交订单\n                                        </button>\n                                    </router-link>\n                                </div>\n                            </div>\n                            \n                        </div>\n                    </transition>\n                </div>\n            </div>\n            <div v-else>\n                <router-link  class=\"nav-item\" to=\"/login\">登录</router-link>\n                <router-link class=\"nav-item\" to=\"/signup\">注册</router-link>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\n    import session from '../lib/session';\n    import SearchBar from './SearchBar';\n    import api from '../lib/api';\n\n    export default {\n        components:{SearchBar},\n        props:{\n            is_poa:{\n                default:false,\n            },\n            pushDown: {\n                default: false\n            },\n            dropTop:'',\n            dropUserRight:'',\n            dropCartRight:''\n        },\n        data(){\n            return{\n                uinfo:session.uinfo(),\n                show_user_drop:false, //用户下拉面板\n                show_cart_drop:false, //购物车下拉面板\n                cart:{},\n                check_all:false, //全选状态\n                with:[\n                        {model:'product',relation:'has_one'}\n                    ],\n            }\n        },\n        computed:{\n            total(){\n                let sum = 0\n                let cart = this.cart;\n                for(let key in cart){\n                    let val = cart[key];\n                    if(!val._checked)\n                        continue;\n                    sum += val.$product.price * val.count\n                }\n                return sum;\n            },\n            selected(){\n                let sum = 0;\n                let cart = this.cart;\n                for(let key in cart){\n                    let val = cart[key];\n                    if(val._checked)\n                        sum += 1\n                }\n                return sum;\n            }\n        },\n        mounted() {\n            this.read();\n        },\n        methods:{\n            onShowCart(){\n                this.show_cart_drop = true;\n                this.read();\n                this.check_all = false;\n            },\n            logout(){\n                session.logout();\n            },\n            read(){\n                api('cart/read',{\n                    where:{\n                        user_id:this.uinfo.id,\n                    },\n                    with:this.with\n                }).then(r=>{\n                        this.cart = r.data;\n                    })\n            },\n            toggle_check(){\n                let cart = this.cart;\n                for(let key in cart){\n                    let val = cart[key];\n                    this.$set(val,'_checked',!this.check_all)\n                }\n            },\n            remove(id){\n                api('cart/delete',{id})\n                    .then(r=>{\n                        this.read();\n                    })\n            },\n            to(){\n                let check = [];\n                let cart = this.cart;\n                for(let key in cart){\n                    let val = cart[key];\n                    if(val._checked)\n                        check.push(val.id)\n                }\n                return {path:'/order/confirm', query:{id:check,_referer:'cart_buy'}}\n            }\n        }\n    }\n</script>\n<style scoped>\n.poa{\n    z-index: 10;\n    position: absolute;\n}\n.fa-times{\n    font-size: 1.2rem;\n}\n.fa-bars,\n.fa-cog{\n    margin-right: 5px;\n}\n.currency{\n    color: #F9726C;\n}\n.nav{\n    background: #F1EDEE;\n    top:5%;\n    left: 10%;\n    right: 10%;\n    width: 100%;\n    border-radius: 5px;\n    padding: 3px 0;\n}\n\n.nav >*{\n    /* font-size: 0.8rem; */\n    vertical-align: middle;\n}\n.count-btn {\n    background: rgba(0, 0, 0, .09);\n}\n.nav .logo {\n    padding-left: 30px;\n    width: 150px;\n    height: 55px;\n}\n.nav .item {\n    text-align: center;\n}\n.nav a {\n    color: rgba(0, 0, 0, .8);\n    font-size: 1rem;\n}\n.nav-item {\n  display: inline-block;\n  padding: 1.5rem;\n  color: #555;\n  text-decoration: none;\n}\n.user-panel,\n.cart-panel {\n display: inline-block;\n}\n.user-panel .username,\n.user-panel .cart{\n    position: relative;\n    cursor:pointer\n}\n.user-drop,\n.cart-drop {\n    position: absolute;\n    background: #fff;\n    top:9.1%;\n    border: 1px solid rgba(0, 0, 0, .08);\n    box-shadow: 1px 1px 2px rgba(0, 0, 0, .08);\n    z-index: 20;\n    border-radius: 3px;\n}\n.cart-drop .cart-warp {\n    height: 300px;\n    overflow: scroll;\n}\n.user-drop{\n    width: 110px;\n    right: 13.9%;\n    padding: 8px 10px;\n}\n.cart-drop {\n    width: 350px;\n    right: 10%;\n    text-align: left;\n    border: 1px solid rgba(0, 0, 0, .0)\n}\n.cart-drop .empty{\n    padding: 10px;\n    text-align: center;\n}\n\n.cart-drop-header{\n    /* background: #F1EDEE; */\n    min-height: 25px;\n    padding: 8px;\n    border-bottom: 1px solid rgba(0, 0, 0, .08);\n}\n.cart-drop-header label {\n    padding: 10px;\n}\n.cart-drop .cart-list {\n    padding: 7px 0;\n    /* border-bottom: 1px solid rgba(0, 0, 0, .08); */\n    margin-bottom: 7px;\n    /* background: #F1EDEE; */\n}\n.cart-drop .cart-list > *{\n    font-size: 0.8rem;\n}\n.cart-drop .cart-list .info {\n    padding: 0 10px;\n}\n.cart-drop .cart-list .info >*{\n    padding: 6px;\n}\n.cart-drop .cart-list img{\n    padding-left: 10px;\n    width: 80px;\n    height: 60px;\n}\n.cart-drop .cart-list .count{\n    font-size: 0.8rem;\n    color: #999;\n}\n.cart-drop .cart-list .count-bar,\n.cart-drop .cart-list .remove {\n    text-align: center;\n}\n.cart-drop .cart-list .remove >* {\n    color: #999;\n}\n.cart-drop .cart-list .remove {\n    margin-top: 10px;\n}\n.cart-drop  .sub-bar {\n    background: #F1EDEE;\n    margin: 0;\n    padding: 10px;\n}\n.cart-drop  .sub-btn{\n    background: #F9726C;\n    border-radius: 3px;\n    padding: 8px;\n    color: #fff;\n    text-align: center;\n}\n.cart-drop  .sub-first {\n    padding: 8px;\n}\n.user-drop > *{\n    font-size: 1rem;\n    padding: 8px 5px;\n    text-align: left;\n}\n.tr-user-enter-active, .tr-user-leave-active {\n  transition: opacity .9s\n}\n.tr-user-enter, .tr-user-leave-to /* .fade-leave-active in below version 2.1.8 */ {\n  opacity: 0\n}\n.tr-cart-enter-active, .tr-cart-leave-active {\n  transition: opacity .9s\n}\n.tr-cart-enter, .tr-cart-leave-to /* .fade-leave-active in below version 2.1.8 */ {\n  opacity: 0\n}\n.tr-cartlist-enter-active, .tr-cartlist-leave-active {\n  transition: opacity .9s\n}\n.tr-cartlist-enter, .tr-cartlist-leave-to /* .fade-leave-active in below version 2.1.8 */ {\n  opacity: 0\n}\n</style>\n","<template>\n    <div>\n        <div class=\"footer\">\n            <div class=\"col-lg-5 part-left\">\n                <span>@2008 aroma.Inc</span>\n            </div>\n            <div class=\"col-lg-2 mid\">Aroma</div>\n            <div class=\"col-lg-5 right\">\n                <span>联系我们</span>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\n    export default {}\n</script>\n<style scoped>\n.footer{\n    margin-top: 40px;\n    padding: 20px;\n    border-top: 1px solid rgba(0, 0, 0, .09);\n    /* border-color: #969696; */\n    color: #969696;\n}\n.mid {\n    text-align:center;\n}\n</style>\n","<template>\n    <div>\n        <div class=\"header\">\n            <Nav :is_poa=\"true\" :dropTop=\"'99.5%'\" :dropUserRight=\"'4.5%'\" :dropCartRight=\"'0%'\"/>\n            <!-- <div class=\"slider\" v-for=\"(pre,index) in cat\" :key=\"index\">\n                <img :src=\"pre.cover_url\" alt=\"\">\n            </div> -->\n            <div v-if=\"cat.length\">\n                <swiper :options=\"swiperOption\" class=\"slider\">\n                    <swiper-slide v-for=\"(it, index) in cat\" :key=\"index\">\n                        <!-- <div class=\"bg-img\" :style=\"{'background-image': 'url(' + it.cover_url+ ')'}\"></div> -->\n                        <img :src=\"it.cover_url\" style=\"width:100%\">\n                    </swiper-slide>\n                    <div class=\"swiper-pagination\" slot=\"pagination\"></div>\n                </swiper>\n            </div>\n        </div>\n        <div class=\"cat\">\n            <div class=\"container\">\n                <div class=\"cat-list\">\n                    <div class=\"cat-title\">\n                        明星单品\n                        <span class=\"des\"> GLOBAL BUYER</span>\n                    </div>\n                    <div class=\"row card-group\">\n                         <div class=\"card\" v-for=\"(card,index) in start_hot\" :key=\"index\">\n                             <router-link :to=\"'/detail/' + card.id\">\n                                <img :src=\"card.preview && card.preview[0] &&card.preview[0].url\" alt=\"\">\n                             </router-link>\n                            <span class=\"tap start-hot\">{{start_hot_tap[index]}}</span>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"cat-list\">\n                    <div class=\"cat-title\">\n                        法国推荐餐酒\n                        <span class=\"des\">FRANCE DINNER WINE</span>\n                    </div>\n                    <div class=\"row card-group\">\n                        <div class=\"card\" v-for=\"(card,index) in occasion_hot\" :key=\"index\">\n                             <router-link :to=\"'/detail/' + card.id\">\n                                <img :src=\"card.preview && card.preview[0] &&card.preview[0].url\" alt=\"\">\n                            </router-link>\n                            <span class=\"tap occasion-hot\">家庭餐</span>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"cat-list\">\n                    <div class=\"cat-title\">\n                        热卖系列\n                        <span class=\"des\">HOT SELLER</span>\n                    </div>\n                    <div class=\"row card-group\">\n                        <div class=\"card single-hot\" v-for=\"(card,index) in single_hot\" :key=\"index\">\n                            <router-link :to=\"'/detail/' + card.id\">\n                                <img :src=\"card.preview && card.preview[0] &&card.preview[0].url\" alt=\"\">\n                            </router-link>\n                            <span class=\"tap\">{{single_hot_tap[index]}}</span>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"container\">\n            <Footer/>\n        </div>\n    </div>\n</template>\n<script>\n    import Nav from '../components/Nav';\n    import Footer from '../components/Footer';\n    import api from '../lib/api';\n\n    export default {\n        components:{Nav , Footer},\n        data(){\n            return{\n                cat:{},\n                start_hot:{},\n                start_hot_tap:['酒具','博若莱','香 槟','桃红酒'],\n                single_hot:{},\n                single_hot_tap:['@瑞 士','@新西兰','@智 利','@澳大利亚'],\n                occasion_hot:{},\n                occasion_hot_tap:[],\n                swiperOption : {\n                    keyboard   : true,\n                    clickable  : true,\n                    loop       : true,\n                    autoplay   : {\n                        deplay:500,\n                    },\n                    pagination : {\n                        el : '.swiper-pagination',\n                    },\n                },\n                swiperSlides : [ 1, 2, 3 ],\n                }\n        },\n        mounted() {\n            this.read();\n            this.read_by_segment('start_hot');\n            this.read_by_segment('single_hot');\n            this.read_by_segment('occasion_hot');\n        },\n        methods:{\n            read(){\n                api('category/read')\n                    .then(r=>{\n                        this.cat = r.data;\n                    })\n            },\n            read_by_segment(segment){\n                api('product/search',{\n                    or:{\n                        [segment]:true,\n                    }\n                }).then(r=>{\n                    this[segment] = r.data; \n                })\n            }\n        }\n    }\n</script>\n<style scoped>\n.header {\n    position: relative;\n}\n/* .bg-img{\n   background-repeat: no-repeat;\n   background-position: contain;\n   height: 500px; \n} */\n.slider {\n    opacity: .85;\n}\n.cat {\n    margin: 2rem 0;\n}\n.cat .cat-title{\n    font-size: 2.5rem;\n    font-weight: 700;\n    padding: 0px 12px;\n    margin: 3rem 0;\n    border-left: 3px solid rgba(0, 0, 0, 1)\n}\n.cat .cat-title .des{\n    font-size: 1.2rem;\n    font-weight: normal;\n    color: #969696;\n}\n.cat .card {\n    position: relative;\n    padding: 0;\n    margin: 0;\n}\n.cat .card-group  {\n    -moz-column-count: 4;\n    -webkit-column-count: 4;\n    column-count: 4;\n    -moz-column-gap:15px;\n    -webkit-column-gap:15px;\n    column-gap:15px;\n}\n.cat .card img{\n    height: 350px;\n}\n.cat .card .tap{\n    font-size: 1.5rem;\n    position: absolute;\n    bottom: 10px;\n    left: 5px;\n    background: #F9726C;\n    color: #fff;\n    padding: 3px 15px;\n    opacity: .8;\n}\n.cat .card .tap.start-hot{\n    background: #463931;\n}\n.cat .card .tap.occasion-hot{\n    background: #463931;\n}\n.cat .card.single-hot img{\n    height: 300px;\n}\n.cat .card.single-hot .tap{\n    font-size: 1.5rem;\n    opacity: .9;\n}\n</style>\n","<template>\n    <div class=\"pagination\">\n        <span class=\"btn-group\">\n      <button class=\"btn-small\"\n              :disabled=\"is_first_page\"\n              @click=\"change(1)\">首\n      </button>\n      <button class=\"btn-small\"\n              :disabled=\"is_first_page\"\n              @click=\"prev()\">前\n      </button>\n    </span>\n\n    &nbsp;\n\n    <span class=\"btn-group\">\n                <button v-if=\"Math.abs(page - current_page) <= half_limit\"\n                        @click=\"change(page)\"\n                        :class=\"{active: current_page == page}\"\n                        v-for=\"page in last_page\"\n                        class=\"btn-small\"\n                        :key=\"page\"\n                        >{{page}}\n                        \n                </button>\n              </span>\n    &nbsp;\n\n    <span class=\"btn-group\">\n      <button class=\"btn-small\"\n              :disabled=\"is_last_page\"\n              @click=\"next()\">下\n      </button>\n\n      <button class=\"btn-small\"\n              :disabled=\"is_last_page\"\n              @click=\"change(last_page)\">末\n      </button>\n    </span>\n    </div>\n</template>\n<script>\nexport default {\n  props: {\n    limit: {\n      default: 0\n    },\n    totalCount: {\n      default: 0\n    },\n    onChange: {\n      default() {\n        console.log(1);\n      }\n    },\n    currentPage:{\n      default:1,\n    }\n  },\n  data() {\n    return {\n      current_page: 1\n    };\n  },\n  methods: {\n    change(page) {\n      if (this.onChange) {\n        this.onChange(page);\n      }\n      this.current_page = page;\n    },\n    prev() {\n      if (this.is_first_page) return;\n      this.change(--this.current_page);\n    },\n    next() {\n      if (this.is_last_page) return;\n      this.change(++this.current_page);\n    }\n  },\n  computed: {\n    half_limit() {\n      return Math.floor(this.limit / 2);\n    },\n    is_first_page() {\n      return this.current_page == 1;\n    },\n    is_last_page() {\n      return this.current_page == this.last_page;\n    },\n    last_page() {\n      return Math.ceil(this.totalCount / this.limit);\n    }\n  },\n  watch:{\n    currentPage(n){\n      this.current_page = n;\n    },\n  }\n};\n</script>\n<style scoped>\n.pagination {\n  text-align: center;\n  padding: 10px 0;\n}\n.pagination .active {\n  background: #F9726C;\n}\n</style>\n","<template>\n    <div>\n        <div class=\"header\">\n            <Nav/>\n        </div>\n        <div class=\"container\">\n            <div @mouseleave=\"cat_panel = ''\" class=\"search-area\">\n                <div  class=\"search-bar\">\n                    <span @mouseover=\"cat_panel = 'wine'\" class=\"search-item\">\n                        <img src=\"../assets/bottle02-icon.png\" alt=\"\">\n                        <div>餐酒</div>\n                    </span>\n                    <span @mouseover=\"cat_panel = 'winetool'\"  class=\"search-item\">\n                        <img src=\"../assets/glass-icon.png\" alt=\"\">\n                        <div>酒具</div>\n                    </span>\n                    <span  @mouseover=\"cat_panel = 'wineparty'\" class=\"search-item\">\n                        <img src=\"../assets/wineparty02-icon.png\" alt=\"\">\n                        <div>宴会</div>\n                    </span>\n                    <span @mouseover=\"cat_panel = 'new'\" class=\"search-item\">\n                        <img src=\"../assets/newwine-icon.png\" alt=\"\">\n                        <div>新酒</div>\n                    </span>\n                </div>\n                <div class=\"cat-panel\">\n                    <div  v-show=\"cat_panel == 'wine'\" class=\"wine\">\n                        <div class=\"panel\">\n                            <div class=\"col-lg-1 title\">品种</div> \n                            <div class=\"col-lg-11 link-group\" >\n                                <span v-for=\"(item,index) in breed_list\" :key=\"index\">\n                                    <span @click=\"set_query_where('breed_id',item.id)\">{{item.name}}</span>\n                                </span>\n                                <!-- <span>梅洛</span>\n                                <span>西拉</span>\n                                <span>霞多丽</span>\n                                <span>长相思</span> -->\n                            </div>\n                        </div>\n                        <div class=\"panel\">\n                        <div class=\"col-lg-1 title\">地区</div> \n                        <div class=\"col-lg-11 link-group\">\n                            <span v-for=\"(item,index) in location_list\" :key=\"index\">\n                                <span @click=\"set_query_where('location_id',item.id)\">\n                                    {{item.name}}\n                                </span>\n                            </span>\n                            <!-- <span>西班牙</span>\n                            <span>意大利</span>\n                            <span>澳大利亚</span>\n                            <span>智利</span> -->\n                        </div>\n                        </div>\n                        <div class=\"panel\">\n                        <div class=\"col-lg-1 title\">年份</div> \n                        <div class=\"col-lg-11 link-group\">\n                            <span @click=\"set_query_year_range(2015,2017)\">2015-2017</span>\n                            <span>2011-2014</span>\n                            <span>2008-2010</span>\n                            <span>&lt; 2008</span>\n                        </div>\n                        </div>\n                    </div>\n                    <div v-show=\"cat_panel == 'winetool'\" class=\"winetool\">\n                        <div class=\"panel\">\n                            <div class=\"col-lg-1 title\">类型</div> \n                            <div class=\"col-lg-11 link-group\">\n                                <span v-for=\"(item,index) in ptype_list\" :key=\"index\">\n                                    <span @click=\"set_query_where('ptype_id',item.id)\">\n                                        {{item.name}}\n                                    </span>\n                                </span>\n                                <!-- <span>醒酒器</span>\n                                <span>开瓶器</span>\n                                <span>酒架</span>\n                                <span>瓶嘴</span> -->\n                            </div>\n                        </div>\n                        <div class=\"panel\">\n                            <div class=\"col-lg-1 title\">材质</div> \n                            <div class=\"col-lg-11 link-group\">\n                                <span v-for=\"(item,index) in material_list\" :key=\"index\">\n                                    <span  @click=\"set_query_where('material_id',item.id)\">\n                                        {{item.name}}\n                                    </span>\n                                </span>\n                            </div>\n                        </div>\n                        <div class=\"panel\">\n                            <div class=\"col-lg-1 title\">型号</div> \n                            <div class=\"col-lg-11 link-group\">\n                                <span>波尔多红酒杯</span>\n                                <span>勃艮第红酒杯</span>\n                                <span>香槟杯</span>\n                                <span>甜酒杯</span>\n                                <span>长相思杯</span>\n                            </div>\n                        </div>\n                    </div>\n                    <div v-show=\"cat_panel == 'wineparty'\" class=\"wineparty\">\n                        <div class=\"panel\">\n                            <div class=\"col-lg-1 title\">场合</div> \n                            <div class=\"col-lg-11 link-group\">\n                                <span v-for=\"(item,index) in occasion_list\" :key=\"index\">\n                                    <span @click=\"set_query_where('occasion_id',item.id)\">\n                                        {{item.name}}\n                                    </span>\n                                </span>\n                                <!-- <span>朋友</span>\n                                <span>商务</span>\n                                <span>郊游</span>\n                                <span>婚礼</span> -->\n                            </div>\n                        </div>\n                    </div>\n                    <div v-show=\"cat_panel == 'new'\" class=\"winenew\">\n                        <div class=\"panel\">\n                            <div class=\"col-lg-1 title\">新酒</div> \n                            <div class=\"col-lg-11 link-group\">\n                                <span>博若莱新酒</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"card-group\" v-if=\"list\">\n            <div\n                v-for=\"(pre,index) in list\"\n                :key=\"index\"\n                class=\"box\"\n            >\n                <div class=\"pic\">\n                    <router-link :to=\"'/detail/'+pre.id\">\n                        <img :src='pre.preview[0].url' alt=\"\">\n                    </router-link>\n                    <div class=\"info heart\">\n                        <span>\n                            <i class=\"fa fa-heart\" aria-hidden=\"true\"></i>\n                        </span>\n                    </div>\n                    <div class=\"info plus\">\n                        <!-- <span><i class=\"fa fa-plus\" aria-hidden=\"true\"></i></span> -->\n                        <router-link :to=\"'/detail/' + pre.id\">\n                            <!-- <span>view</span> -->\n                            <i class=\"fa fa-asterisk\" aria-hidden=\"true\"></i>\n                        </router-link>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div v-else class=\"empty-area\">\n            <div class=\"empty-search\"></div>\n            <div class=\"em-desc\">暂无内容</div>\n        </div>\n        <Pagination \n            :totalCount=\"total\"\n            :limit=\"limit\"\n            :onChange=\"on_page_change\"\n        />\n        <div class=\"container\">\n            <Footer/>\n        </div>\n    </div>\n</template>\n<script>\nimport Nav from \"../components/Nav\";\nimport Footer from \"../components/Footer\";\nimport Pagination from \"../components/Pagination\";\nimport api from '../lib/api';\nimport {clone} from '../lib/helper';\n\nexport default {\n    components: { Nav , Pagination,Footer},\n    data(){\n        return{\n            cat_panel:'',\n            list:{},\n            total:0,\n            limit:10,\n            search_param:{},\n            breed_list:[],\n            location_list:[],\n            ptype_list:[],\n            occasion_list:[],\n            material_list:[],\n        }\n    },\n    mounted() {\n        this.read();\n        this.read_by_model('breed');\n        this.read_by_model('location');\n        this.read_by_model('ptype');\n        this.read_by_model('occasion');\n        this.read_by_model('material');\n    },\n    methods:{\n            read(){\n                api('product/read',{limit:this.limit})\n                    .then(r=>{\n                        this.list = r.data;\n                        this.total = r.total;\n                    })\n            },\n            read_by_model(model){\n                api(`${model}/read`)\n                    .then(r=>{\n                        this[model + '_list']= r.data;\n                    })\n            },\n            on_page_change(page){\n                this.set_condition('page',page);\n            },\n            //set_condition为请求的api中的专有属性\n            set_condition(type,value){ \n                let query = clone(this.$route.query);\n                switch (type){\n                    case 'page':\n                        query.page = value;\n                        break;\n                }\n                this.$router.replace({query});\n                this.search();\n            },\n            //set_query_where为请求中对数据范围的属性值\n            set_query_where(type,value){\n                let condition = {};\n                condition[type] = value;\n\n                // let o = this.search_param;\n                // let n = Object.assign({},o,condition);\n                this.$router.replace({query:condition});\n            },\n            set_query_year_range(min,max){\n                let query = this.parse_route_query();\n                if(!min && !max){\n                    delete query.year_min;\n                    delete query.year_max;\n                }else{\n                    let condition = {\n                        year_min :min,\n                        year_max :max,\n                    };\n                    query = Object.assign({},query,condition);\n                }\n                this.$router.replace({query});\n            },\n            search(){\n                let p = this.search_param;\n                \n                let breed_query = ''\n                    ,location_query = ''\n                    ,ptype_query = ''\n                    ,occasion_query = ''\n                    ,material_query = ''\n                    ,year_min_query = ''\n                    ,year_max_query = ''\n                    ;\n                p.breed_id &&( breed_query = `and \"breed_id\" = ${p.breed_id}`);\n                p.location_id &&( location_query = `and \"location_id\" = ${p.location_id}`);\n                p.occasion_id &&( occasion_query = `and \"occasion_id\" = ${p.occasion_id}`);\n                p.material_id &&( material_query = `and \"material_id\" = ${p.material_id}`);\n                p.year_max && ( year_max_query = `and \"year\" <= ${p.year_max}`);\n                p.year_min && ( year_min_query = `and \"year\" >= ${p.year_min}`);\n\n                let query = `where(\"name\" contains \"${p.keyword||''}\" ${breed_query} ${location_query} ${occasion_query} ${material_query} ${year_min_query} ${year_max_query})`\n\n                api('product/read',{\n                    query:query,\n                    limit:this.limit,\n                    page:p.page,\n                }).then(r=>{\n                    this.list = r.data;\n                    this.total = r.total;\n                })\n            },\n            prepare_search_param(){\n                let query = this.parse_route_query();\n                this.search_param = query;\n                \n            },\n            parse_route_query(){\n                let query = this.$route.query;\n                \n                if(!query.sort_by)\n                    query.sort_by = ['id','down'];\n                \n                if(typeof query.sort_by == 'string')\n                    query.sort_by = query.sort_by.split(',')\n                return query;\n            },\n            // clean_query(){\n            //     this.$router.replace({});\n            // }\n\n    },\n    watch:{\n        '$route.query':{\n            deep:true,\n            handler(){\n                this.prepare_search_param();\n                this.search();\n            }\n        }\n    }\n};\n</script>\n<style scoped>\n.fa-asterisk{\n    color: #77D1E2;\n}\n.search-area {\n    position: relative;\n}\n.search-bar {\n  background: rgb(224, 224, 224);\n  padding: 10px;\n  text-align: center;\n}\n.search-item {\n  padding: 10px;\n  margin: 0 20px;\n}\n.search-item img {\n  width: 30px;\n  height: 30px;\n  opacity: 0.7;\n}\n.search-item:hover {\n  background: #ccc;\n}\n.cat-panel {\n    position: absolute;\n    top:100%;\n    left: 0%;\n    z-index: 1;\n    width: 100%;\n    border: 1px solid rgba(0, 0, 0, 0.07);\n    opacity: 1;\n}\n.cat-panel .panel {\n  background: #f8f8f6;\n  color: rgba(0, 0, 0, 0.7);\n  cursor: pointer;\n}\n.cat-panel .panel .title {\n    font-size: 1.1rem;\n    text-align: center;\n}\n.cat-panel .panel .title,\n.cat-panel .panel .link-group > * {\n  padding: 10px 20px;\n}\n.card-group {\n    -moz-column-count: 3;\n    -webkit-column-count: 3;\n    column-count: 3;\n    /* -webkit-column-width: 250px;\n    -moz-column-width: 250px;\n    column-width: 250px; */\n    -moz-column-gap:20px;\n    -webkit-column-gap:20px;\n    column-gap:20px;\n    padding:30px 10%;\n}\n.box{\n    box-sizing: border-box;    \n    padding: 5px;\n    /* border: solid 2px #eeeeee; */\n    border-radius: 4px;\n    margin-bottom: 30px;\n    cursor: pointer;\n}\n.pic {\n    position: relative;\n}\n.pic img{\n    width: 100%;\n    opacity: .8;\n}\n.box .info {\n    /* visibility: hidden; */\n    /* display: none; */\n    opacity: 0;\n    font-size: 1rem;\n    position: absolute;\n    color: #F9726C;\n    padding: 8px;\n    border-radius: 5px;\n    background: #fff;\n    right: 10%;\n}\n.box .heart{\n    bottom:18%;\n    \n}\n.box .plus{\n    bottom:5%;\n}\n\n.box:hover .info {\n    opacity: .8;\n    /* visibility: visible; */\n    /* display: inline-block; */\n    opacity: 1;\n}\n.box .pic:hover img{\n    opacity: 1;\n}\n.empty-area {\n    width: 100%;\n    height: 480px;\n    text-align: center;\n    padding-top: 200px;\n}\n.empty-search{\n    background-image: url(../assets/empty-search.png);\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: contain;\n    height: 80px;\n}\n.em-desc {\n    padding: 15px;\n    color: #ccc;\n}\n</style>\n","<template>\n  <div>\n    <router-view></router-view>\n    <!-- <Home/> -->\n    <!-- <Search/> -->\n    <!-- <img src=\"./assets/logo.png\"> -->\n    <!-- <HelloWorld msg=\"Welcome to Your Vue.js App\"/> -->\n  </div>\n</template>\n\n<script>\nimport HelloWorld from './components/HelloWorld.vue'\nimport Home from './page/Home.vue'\nimport Search from './page/Search.vue'\n\nexport default {\n  name: 'app',\n  // components: {\n  //   HelloWorld,\n  //   Home,\n  //   Search,\n  // }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n","* {\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n}\n\nhtml {\n    font-family: sans-serif;\n    font-size: 13px;\n}\n\nimg {\n    max-width: 100%;\n    display: block;\n}\n\nspan, a {\n    display: inline-block;\n}\n\na {\n    text-decoration: none;\n    display: inline-block;\n}\n\n.container {\n    max-width: 1000px;\n    margin-left: auto;\n    margin-right: auto;\n}\n\nhr {\n    display: block;\n    height: 0;\n    border: 0;\n    border-bottom: 1px solid rgba(0, 0, 0, .05)\n}\n\n.left {\n    text-align: left;\n}\n\n.right {\n    text-align: right;\n}\n\n.row {\n    font-size: 0;\n    display: block;\n}\n\n[class^='col'] {\n    display: inline-block;\n    vertical-align: top;\n    font-size: 1rem;\n    /*==========*/\n    /*border: 1px solid #ccc;*/\n    /*min-height: 30px;*/\n}\n\n.col-lg-1 {\n    width: 8.333333333%;\n}\n\n.col-lg-2 {\n    width: 16.666666666%;\n}\n\n.col-lg-3 {\n    width: 25%;\n}\n\n.col-lg-4 {\n    width: 33.3333333333%;\n}\n\n.col-lg-5 {\n    width: 41.6666666666%;\n}\n\n.col-lg-6 {\n    width: 50%;\n}\n\n.col-lg-7 {\n    width: 58.33333333%;\n}\n\n.col-lg-8 {\n    width: 66.666666666%;\n}\n\n.col-lg-9 {\n    width: 75%;\n}\n\n.col-lg-10 {\n    width: 83.33333333333%;\n}\n\n.col-lg-11 {\n    width: 91.66666666666%;\n}\n\n.col-lg-12 {\n    width: 100%;\n}\n\n@media (max-width: 400px) {\n    .col-sm-1 {\n        width: 8.333333333%;\n    }\n    .col-sm-2 {\n        width: 16.666666666%;\n    }\n    .col-sm-3 {\n        width: 25%;\n    }\n    .col-sm-4 {\n        width: 33.3333333333%;\n    }\n    .col-sm-5 {\n        width: 41.6666666666%;\n    }\n    .col-sm-6 {\n        width: 50%;\n    }\n    .col-sm-7 {\n        width: 58.33333333%;\n    }\n    .col-sm-8 {\n        width: 66.666666666%;\n    }\n    .col-sm-9 {\n        width: 75%;\n    }\n    .col-sm-10 {\n        width: 83.33333333333%;\n    }\n    .col-sm-11 {\n        width: 91.66666666666%;\n    }\n    .col-sm-12 {\n        width: 100%;\n    }\n}\n\n/* ==========btn========= */\n\ninput,\nbutton {\n  padding: 5px;\n  font-size: 1rem;\n  border: 1px solid rgba(0, 0, 0, .1);\n  vertical-align: top;\n  outline: 0;\n}\n\n.input-control {\n    margin: 10px 0;\n}\n\n.input-control > *{\n    vertical-align: middle;\n    /* padding-right: 8px; */\n}\n[type='checkbox'] {\n    margin: 0 5px;\n}\n.input-control label {\n    display: block;\n    padding: 2px;\n}\n.btn {\n    padding: 5px 8px;\n}\n.btn-primary {\n    /* background: #fd521d; */\n    color: #1e1e1e;\n}\n\n.btn-fat {\n    padding-left: 40px;\n    padding-right: 40px;\n}\n\n/* =============table========== */\n\ntable {\n    border-collapse: collapse;\n    width: 100%;\n}\n\nth, td {\n    font-size: 1rem;\n    padding: 10px;\n    text-align: center;\n}\n\ntd {\n    border-bottom: 1px solid rgba(0, 0, 0, .1);\n}\n\nth {\n    border-bottom: 2px solid rgba(0, 0, 0, .1);\n}\n\ntbody tr:hover {\n    background: rgba(0, 0, 0, .05);\n}\n/* ============\b货币标识符号======= */\n.currency:before {\n    content: '￥';\n}\n\n/* =========error=========\n */\n\n .error-list {\n    padding: 5px;\n    color: #c10;\n    font-size: 0.7rem;\n}\n.error {\n    padding: 15x;\n}\n/* ==========disabled========== */\nbutton[disabled],\ninput[disabled],\ntextarea[disabled] {\n  opacity: .6;\n  cursor: not-allowed;\n}\n/* ===========close======== */\n.close::before{\n    content: 'X';\n}\n /* ===========色板============ */\n\n.color {\n    color: #77D1E2;\n    color: #FFFFFF;\n    color: #CCCCCC;\n    color: #f1edee;\n    color: #F9726C;\n    color: #f8f8f6;\n    color: #969696;\n}\n","<template>\n    <div>\n        <Nav />\n        <div class=\"container\">\n            <div class=\"product\">\n                <div class=\"col-lg-6 pic\">\n                    <img :src=\"detail.preview && detail.preview[0] && detail.preview[0].url ? detail.preview[0].url : ''\">\n                </div>\n                <div class=\"col-lg-6 main\">\n                    <h1 class=\"title\">{{detail.name}}</h1>\n                    <div class=\"info-item\">\n                        <span class=\"key\">产地：</span>\n                        <span class=\"val\">{{detail.$location? detail.$location.name : '-'}}</span>\n                    </div>\n                    <div class=\"info-item\">\n                        <span class=\"key\">年份：</span>\n                        <span class=\"val\">{{detail.year}}</span>\n                    </div>\n                    <div class=\"info-item\">\n                        <span class=\"key\">品种：</span>\n                        <span class=\"val\">{{detail.$breed&&detail.$breed.name||'-'}}</span>\n                    </div>\n                    <div class=\"info-item\">\n                        <span class=\"key\">价格：</span>\n                        <span class=\"val currency\">{{detail.price}}</span>\n                    </div>\n                    <div class=\"info-item\">\n                        <span class=\"key\">数量</span>\n                        <span class=\"val\">\n                            <button  type=\"button\" @click=\"reduce\" class=\"btn btn-primary\">-</button>\n                            <span class=\"count\">{{count}} </span>\n                            <button type=\"button\" @click=\"add\" class=\"btn btn-primary\">+</button>\n                        </span>\n                    </div>\n                    <div class=\"info-item\">\n                        <button @click=\"addCart\" type=\"submit\">加入购物车</button>\n                        <router-link :to=\"to()\"><button>立即购买</button></router-link>\n                    </div>\n                </div>\n            </div>\n            <Footer/>\n        </div>\n    </div>\n</template>\n<script>\n    import Nav from '../components/Nav'\n    import Footer from '../components/Footer'\n    import api from '../lib/api';\n    import session from '../lib/session';\n\n    export default{\n        components:{Nav , Footer},\n        data(){\n            return{\n                detail:{},\n                with:[\n                    {model:'location',relation:'has_one'},\n                    {model:'breed',relation:'has_one'},\n                ],\n                count:1,\n                uinfo:session.uinfo(),\n                is_exist_product:{},\n            }\n        },\n        mounted() {\n            let id = this.get_id();\n            this.find(id);\n            this.is_exist();\n            \n        },\n        methods:{\n            is_exist(){\n                return api('cart/first',{\n                    where:{\n                        product_id:this.$route.params.id,\n                    }\n                    }).then(r=>{\n                        if(r.data){\n                            this.is_exist_product = r.data;\n                        }\n                    })\n            },\n            addCart(){\n                if(!session.is_login())\n                    this.$router.push('/login');\n\n                this.is_exist_product.count = '';\n                this.is_exist()\n                    .then(r=>{\n                        let action = this.is_exist_product.count ? 'update':'create';\n        \n                        this.is_exist_product.product_id = this.detail.id;\n                        this.is_exist_product.user_id = this.uinfo.id;\n                        if(action == 'update') {\n                            this.is_exist_product.count = this.count + this.is_exist_product.count;\n                        }\n                        else \n                            this.is_exist_product.count  = this.count\n                        // else {\n                        //     console.log('333',333);\n                        //     this.is_exist_product.count = this.count + 0\n                        // }\n                        // this.is_exist_product.count = action == 'create'? this.count :this.count + this.is_exist_product ? this.is_exist_product.count:0;\n                        \n                        api(`cart/${action}`,this.is_exist_product)\n                    })\n\n                    \n            },\n            to(){\n                if(!session.is_login())\n                    this.$router.push('/login');\n                return {path:'/order/confirm', query:{id:this.detail.id,count:this.count,_referer:'item_buy'}}\n            },\n            reduce(){\n                if(this.count <= 0)\n                    return this.count = 0;\n                return this.count--;\n            },\n            add(){\n                if(this.count >= this.detail.store){\n                    return this.count = this.detail.store;\n                }\n                return this.count++;\n            },\n            get_id(){\n               return this.$route.params.id;\n            },\n            find(id){\n                api('product/find',{\n                    id:id,\n                    with:this.with\n                    }).then(r=>{\n                        this.detail = r.data;\n                        console.log('this.detail',this.detail);\n                        \n                    })\n            }\n        }\n    }\n</script>\n<style scoped>\n.product {\n    padding: 20px 0;\n    background: rgba(0, 0, 0, .03);\n}\n.main{\n    padding-left: 10%;\n    height: 440px;\n}\n.main .info-item{\n    padding: 10px 0;\n    vertical-align: middle;\n}\n.info-item button {\n    margin: 0 5px;\n    border-radius: 4px;\n}\n.info-item button:hover {\n    background: #F9726C;\n    color: #fff;\n    cursor: pointer;\n}\n.product .pic {\n    padding-left: 10%;\n}\n.key {\n    margin-right:  12px;\n}\n.count{\n    border: 1px solid rgba(0, 0, 0, .05);\n    padding: 5px 30px;\n    \n}\n</style>\n","<template>\n    <div>\n        <Nav/>\n        <div class=\"container pay_by\" >\n            <div v-if=\"current.pay_by=='wechat'\" class=\"w-pay\">\n                <p>请扫描支付(将支付0.02元，支持demo)</p>\n                <img :src=\"qrcode\" alt=\"\">\n            </div>\n            <div v-else>\n                跳转中，别着急...\n                <!-- <a :href=\"qrcode\">点击前往支付宝支付</a> -->\n            </div>\n            <div>\n                <button @click=\"verify\">支付完成</button>\n            </div>\n        </div>\n        <div class=\"container\">\n            <Footer/>\n        </div>\n    </div>\n</template>\n<script>\n    import Nav from '../components/Nav';\n    import Footer from '../components/Footer';\n    import api from '../lib/api';\n    import {url} from '../lib/url';\n\n    export default {\n        components:{Nav ,Footer},\n        data(){\n            return{\n                current:{},\n                qrcode:'',\n            }\n        },\n        mounted() {\n            this.find(this.$route.params);\n        },\n        methods:{\n            find(id){\n                api('order/first',{id})\n                    .then(r=>{\n                        let row = this.current = r.data;\n                        console.log('this.current',this.current);\n                        \n                        if(!row){\n                            alert('订单有误！')\n                            this.go_me_order();\n                        }\n\n                        if(row._paid){\n                            alert('此订单已支付')\n                            this.go_me_order();\n                        }\n\n                        this.pay(row.id,row.pay_by,row.sum)\n                    })\n            },\n            go_me_order(){\n                this.$router.push('/order/meorder')\n            },\n            pay(id,pay_by,fee){\n                if(fee > .2)\n                    fee = .02;\n                return api('order/payment/url',{\n                    id:id,\n                    pay_by:pay_by,\n                    fee:fee,\n                    return_url:url('/#/'),\n                }).then(r=>{\n                    if(r.data.url){\n                        location.href = r.data.url; //如果返回是url，即支付宝支付，跳转到支付url\n                    }else{\n                        this.qrcode = r.data.qrcode //如果返回是二维码，则是微信支付，则弹出二维码\n                    }\n                })\n            },\n            verify(){\n                api('order/find',{id:this.current.id})\n                    .then(r=>{\n                        if(r.data._paid){\n                            alert('支付成功');\n                            this.$router.push('/search');\n                        }\n                        else\n                            alert('支付失败');\n                    });\n            }\n        },\n    }\n</script>\n<style scoped>\n.pay_by >*{\n    text-align: center;\n}\n.pay_by img{\n    display: inline-block;\n}\n</style>\n","<template>\n    <div>\n        <Nav/>\n        <div class=\"header\">\n            <div class=\"container\">\n                <form class=\"main-form\" @submit=\"submit\">\n                    <h1>登录</h1>\n                    <div v-if=\"login_failed\" class=\"error-list\">\n                        <div class=\"error\">用户名或密码有误</div>\n                    </div>\n                    <div class=\"input-control\">\n                        <input v-validator=\"'username|required|min_length:4|max_length:24'\" \n                        id=\"username\" \n                        type=\"text\" \n                        placeholder=\"用户名\"\n                        v-model=\"current.$unique\"\n                        >\n                    </div>\n                    <div class=\"input-control\">\n                        <input id=\"password\" type=\"password\" placeholder=\"密码\"\n                        v-model=\"current.password\">\n                    </div>\n                    <div class=\"input-control\"> \n                        <button type=\"submit\">登录</button>\n                    </div>\n                    <div class=\"input-control small muted\">没有账号？<a href=\"#/signup\">注册</a></div>\n                </form>\n            </div>\n        </div>\n        <div class=\"container\">\n          <Footer/>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Nav from \"../components/Nav\";\nimport Footer from \"../components/Footer\";\nimport validator from \"../directive/validator\";\nimport api from \"../lib/api\";\nimport session from \"../lib/session\";\n\nexport default {\n  directives: { validator },\n  components: { Nav,Footer },\n  data() {\n    return {\n      current: {\n        $unique:'linkding',\n        password:'123123',\n      },\n      login_failed: false //是否登录失败\n    };\n  },\n  methods: {\n    submit(e) {\n      e.preventDefault();\n      let unique = this.current.$unique,\n        password = this.current.password;\n\n      if (!unique || !password) return;\n\n      let query = [\n        [\"username\", \"=\", unique],\n        [\"phone\", \"=\", unique],\n        [\"email\", \"=\", unique]\n      ];\n\n      api(\"user/read\", {\n        where: { or: query }\n      }).then(r => {\n        //检查返回结果，如果data长度为0，说明没有找到该用户\n        let row = r.data[0];\n\n        if (!row || this.current.password !== row.password) {\n          this.login_failed = true;\n          return;\n        }\n\n        if (row.username == \"admin\" && row.password == \"123123\") {\n          this.on_login_success({ username: \"admin\", is_admin: true });\n          return;\n        }\n        this.on_login_success(row);\n      });\n    },\n    on_login_success(row) {\n      this.login_failed = false;\n      delete row.password;\n\n      session.login(row);\n      this.$router.push(\"/\");\n    }\n  }\n};\n</script>\n<style scoped>\n.header {\n  /* background-image: url(\"../assets/login/1300x400.png\"); */\n}\n\n.main-form {\n  margin-top: 30px;\n  width: 300px;\n  background: #fff;\n  margin-left: auto;\n  margin-right: auto;\n  padding: 10px 15px;\n  border: 1px solid rgba(0, 0, 0, .08)\n}\nh1 {\n  margin: 0;\n  font-size: 1.5rem;\n  text-align: center;\n}\n\n.header {\n  height: 400px;\n  background-repeat: no-repeat;\n  background-size: contain;\n}\n\n.main-form input,\n.main-form button {\n  width: 100%;\n  font-size: 1rem;\n  padding: 8px;\n}\n\n.main-form button {\n  background: #F9726C;\n  color: #fff;\n}\n\n</style>\n","<template>\n    <div>\n        <Nav/>\n        <div class=\"wrap\">\n            <div class=\"container\">\n                <form class=\"main-form\" @submit=\"submit($event)\">\n                    <h1>注册</h1>\n                    <div class=\"tab-title\">\n                        <div @click=\"signup_by = 'phone'\" :class=\"'col-lg-6 ' + (signup_by == 'phone'? 'active':'')\">手机注册</div>\n                        <div @click=\"signup_by = 'mail'\" :class=\"'col-lg-6 ' + (signup_by == 'mail'? 'active':'')\">邮箱注册</div>\n                    </div>\n                    <div class=\"input-control\">\n                        <input id=\"username\" type=\"text\" \n                            v-validator=\"'required|username|min_length:4|max_length:24|not_exist:user,username'\"\n                            error-el=\"#username-error\"\n                            error-lang=\"zh\"\n                            placeholder=\"whh\" \n                            autocomplete=\"off\"\n                            v-model=\"current.username\">\n                        <div class=\"error-list\">\n                            <div id=\"username-error\"></div>\n                        </div>\n                    </div>\n                    <div class=\"input-control\">\n                        <input v-validator=\"'required|min_length:6|max_length:64'\"\n                        error-el=\"#password-error\"\n                        id=\"password\"\n                        type=\"password\"\n                        placeholder=\"密码\"\n                        v-model=\"current.password\">\n                        <div class=\"error-list\">\n                            <div id=\"password-error\"></div>\n                        </div>\n                    </div>\n                     <div class=\"input-control\">\n                        <input id=\"repassword\" type=\"password\" placeholder=\"重复密码\"\n                          v-validator=\"'required|shadow:#password'\"\n                        >\n                    </div>\n                    <div v-if=\"signup_by == 'phone'\" :key=\"'phone'\" class=\"input-control\">\n                        <input  class=\"col-lg-7\" type=\"text\" placeholder=\"手机号\"\n                            v-validator=\"'required|cellphone'\"\n                            error-el=\"#phone-error\"\n                            v-model=\"current.phone\"\n                        >\n                        <div class=\"error-list\">\n                            <div id=\"phone-error\"></div>\n                        </div>\n                    </div>\n                    <div v-if=\"signup_by == 'mail'\" :key=\"'mail'\" class=\"input-control\">\n                        <input  class=\"col-lg-7\" type=\"text\" placeholder=\"邮箱\"\n                            v-validator=\"'required|mail'\"\n                            error-el=\"#mail-error\"\n                            v-model=\"current.mail\"\n                        >\n                        <div class=\"error-list\">\n                            <div id=\"mail-error\"></div>\n                        </div>\n                    </div>\n                    <div class=\"input-control\">\n                        <div>\n                            <input style=\"width:70%\" type=\"number\" placeholder=\"验证码\"\n                                v-model=\"current.vcode\"\n                                error-el=\"#vcode-error\"\n                                v-validator=\"'required'\"\n                                >\n                            <button style=\"width:30%\" type=\"button\"  :disabled=\"captcha.countdown != 0\" @click=\"send_code\">\n                                <span v-if=\"captcha.countdown\">{{captcha.countdown}}</span>\n                                <span v-else>获取验证码</span>\n                            </button>\n                        </div>\n                        <div class=\"error-list\">\n                            <div v-if=\"invalid_code\">验证码有误</div>\n                            <div id=\"vcode-error\"></div>\n                        </div>\n                    </div>\n                    <div class=\"input-control\"> \n                        <button type=\"submit\">注册</button>          \n                    </div>\n                    <!-- <div class=\"input-control small muted\">没有账号？<a href=\"\">注册</a></div> -->\n                </form>\n            </div>\n        </div>\n        <div class=\"footer\"></div>\n    </div>\n</template>\n\n<script>\nimport Nav from \"../components/Nav\";\nimport validator from \"../directive/validator\";\nimport api from \"../lib/api\";\n\nexport default {\n  directives: { validator },\n  components: { Nav },\n  data() {\n    return {\n      captcha: {\n        countdown: 0,\n        timer: null\n      },\n      signup_by: \"phone\",\n      current: {},\n      code: \"\",\n      invalid_code: false\n    };\n  },\n  methods: {\n    submit(e) {\n      e.preventDefault();\n\n      this.invalid_code = this.current.vcode !== this.code; //默认是false，只有输入的验证码不匹配时候为true，并触发显示 验证码错误 在网页\n\n      if (this.invalid_code) return;\n\n      if (this.signup_by == \"mail\") delete this.current.phone;\n      else delete this.current.mail;\n\n      // 如果没有用户名，就默认用已填的邮箱或手机号作为用户名\n      !this.current.username &&\n        (this.current.username = this.current[this.signup_by]);\n      api(\"user/create\", this.current).then(r => {\n        alert(\"注册成功，请重新登录\");\n        this.$router.push(\"/login\");\n      });\n    },\n    send_code() {\n      if (this.captcha.countdown) return;\n\n      let action = \"sms\",\n        by_mail;\n\n      if ((by_mail = this.signup_by == \"mail\")) action = \"mail\";\n\n      if ((by_mail && !this.current.mail) || (!by_mail && !this.current.phone))\n        return;\n\n      this.captcha.countdown = 60;\n\n      this.captcha.timer = setInterval(() => {\n        if (this.captcha.countdown == 0) clearInterval(this.captcha.timer);\n        else this.$set(this.captcha, \"countdown\", --this.captcha.countdown);\n      }, 1000);\n\n      api(`captcha/${action}`, {\n        phone: this.current.phone,\n        mail: this.current.mail\n      }).then(r => {\n        this.code = atob(r.data.result);\n      });\n    }\n  }\n};\n</script>\n<style scoped>\n.wrap {\n  /* background-image: url(\"../assets/login/1300x400.png\"); */\n}\n\n.main-form {\n  margin-top: 30px;\n  width: 400px;\n  background: #fff;\n  margin-left: auto;\n  margin-right: auto;\n  padding: 10px 15px;\n  border: 1px solid rgba(0, 0, 0, .08)\n}\nh1 {\n  margin: 0;\n  font-size: 1.5rem;\n  text-align: center;\n}\n\n.wrap {\n  height: 400px;\n  background-repeat: no-repeat;\n  background-size: contain;\n}\n\n.main-form {\n \n}\n\n.main-form > * {\n  padding: 5px 0;\n}\n\n.main-form input,\n.main-form button {\n  width: 100%;\n  font-size: 1rem;\n  padding: 8px;\n}\n\n.main-form button {\n  background: #F9726C;\n  color: #fff;\n}\n.main-form .tab-title > * {\n  padding: 5px;\n  padding-bottom: 10px;\n  text-align: center;\n}\n.main-form .tab-title .active {\n  border-bottom: 2px solid #F9726C;\n}\n.phone-valid button {\n  width: 40%;\n}\n.phone-valid input {\n  width: 60%;\n}\n.input-control {\n  margin: 0;\n}\n</style>\n",".nav-side {\n    background: #fff;\n    border: 1px solid rgba(0, 0, 0, .05);\n    margin-right: 20px;\n    box-shadow: 3px 3px 5px rgba(0, 0, 0, .05)\n}\n\n.nav-side  .nav-item {\n    font-size: 1.1rem;\n    color: #555;\n    display: block;\n    padding: 10px 20px;\n}\n.nav-side  .nav-item:active {\n    background: rgba(0, 0, 0, .05);\n}","\nh3[data-v-d6bec2f6] {\n  margin: 40px 0 0;\n}\nul[data-v-d6bec2f6] {\n  list-style-type: none;\n  padding: 0;\n}\nli[data-v-d6bec2f6] {\n  display: inline-block;\n  margin: 0 10px;\n}\na[data-v-d6bec2f6] {\n  color: #42b983;\n}\n\n\n.search-bar[data-v-541ea624] {\n    margin: 10px 0;\n}\n.search-bar input[data-v-541ea624],\n.search-bar button[data-v-541ea624] {\n  border: 0;\n  background: 0;\n}\n.search-bar input[data-v-541ea624] {\n  /* opacity: 0; */\n  width: 45%;\n  border-bottom: 1px solid rgba(0, 0, 0, .09)\n}\nbutton[data-v-541ea624] {\n  border-left: 0;\n}\n.tr-enter-active[data-v-541ea624], .tr-leave-active[data-v-541ea624] {\n  -webkit-transition: opacity .5s;\n  transition: opacity .5s\n}\n.tr-enter[data-v-541ea624], .tr-leave-to[data-v-541ea624] /* .tr-leave-active in below version 2.1.8 */ {\n  opacity: 0\n}\n\n\n.poa[data-v-6b4dc681]{\n    z-index: 10;\n    position: absolute;\n}\n.fa-times[data-v-6b4dc681]{\n    font-size: 1.2rem;\n}\n.fa-bars[data-v-6b4dc681],\n.fa-cog[data-v-6b4dc681]{\n    margin-right: 5px;\n}\n.currency[data-v-6b4dc681]{\n    color: #F9726C;\n}\n.nav[data-v-6b4dc681]{\n    background: #F1EDEE;\n    top:5%;\n    left: 10%;\n    right: 10%;\n    width: 100%;\n    border-radius: 5px;\n    padding: 3px 0;\n}\n.nav >*[data-v-6b4dc681]{\n    /* font-size: 0.8rem; */\n    vertical-align: middle;\n}\n.count-btn[data-v-6b4dc681] {\n    background: rgba(0, 0, 0, .09);\n}\n.nav .logo[data-v-6b4dc681] {\n    padding-left: 30px;\n    width: 150px;\n    height: 55px;\n}\n.nav .item[data-v-6b4dc681] {\n    text-align: center;\n}\n.nav a[data-v-6b4dc681] {\n    color: rgba(0, 0, 0, .8);\n    font-size: 1rem;\n}\n.nav-item[data-v-6b4dc681] {\n  display: inline-block;\n  padding: 1.5rem;\n  color: #555;\n  text-decoration: none;\n}\n.user-panel[data-v-6b4dc681],\n.cart-panel[data-v-6b4dc681] {\n display: inline-block;\n}\n.user-panel .username[data-v-6b4dc681],\n.user-panel .cart[data-v-6b4dc681]{\n    position: relative;\n    cursor:pointer\n}\n.user-drop[data-v-6b4dc681],\n.cart-drop[data-v-6b4dc681] {\n    position: absolute;\n    background: #fff;\n    top:9.1%;\n    border: 1px solid rgba(0, 0, 0, .08);\n    -webkit-box-shadow: 1px 1px 2px rgba(0, 0, 0, .08);\n            box-shadow: 1px 1px 2px rgba(0, 0, 0, .08);\n    z-index: 20;\n    border-radius: 3px;\n}\n.cart-drop .cart-warp[data-v-6b4dc681] {\n    height: 300px;\n    overflow: scroll;\n}\n.user-drop[data-v-6b4dc681]{\n    width: 110px;\n    right: 13.9%;\n    padding: 8px 10px;\n}\n.cart-drop[data-v-6b4dc681] {\n    width: 350px;\n    right: 10%;\n    text-align: left;\n    border: 1px solid rgba(0, 0, 0, .0)\n}\n.cart-drop .empty[data-v-6b4dc681]{\n    padding: 10px;\n    text-align: center;\n}\n.cart-drop-header[data-v-6b4dc681]{\n    /* background: #F1EDEE; */\n    min-height: 25px;\n    padding: 8px;\n    border-bottom: 1px solid rgba(0, 0, 0, .08);\n}\n.cart-drop-header label[data-v-6b4dc681] {\n    padding: 10px;\n}\n.cart-drop .cart-list[data-v-6b4dc681] {\n    padding: 7px 0;\n    /* border-bottom: 1px solid rgba(0, 0, 0, .08); */\n    margin-bottom: 7px;\n    /* background: #F1EDEE; */\n}\n.cart-drop .cart-list > *[data-v-6b4dc681]{\n    font-size: 0.8rem;\n}\n.cart-drop .cart-list .info[data-v-6b4dc681] {\n    padding: 0 10px;\n}\n.cart-drop .cart-list .info >*[data-v-6b4dc681]{\n    padding: 6px;\n}\n.cart-drop .cart-list img[data-v-6b4dc681]{\n    padding-left: 10px;\n    width: 80px;\n    height: 60px;\n}\n.cart-drop .cart-list .count[data-v-6b4dc681]{\n    font-size: 0.8rem;\n    color: #999;\n}\n.cart-drop .cart-list .count-bar[data-v-6b4dc681],\n.cart-drop .cart-list .remove[data-v-6b4dc681] {\n    text-align: center;\n}\n.cart-drop .cart-list .remove >*[data-v-6b4dc681] {\n    color: #999;\n}\n.cart-drop .cart-list .remove[data-v-6b4dc681] {\n    margin-top: 10px;\n}\n.cart-drop  .sub-bar[data-v-6b4dc681] {\n    background: #F1EDEE;\n    margin: 0;\n    padding: 10px;\n}\n.cart-drop  .sub-btn[data-v-6b4dc681]{\n    background: #F9726C;\n    border-radius: 3px;\n    padding: 8px;\n    color: #fff;\n    text-align: center;\n}\n.cart-drop  .sub-first[data-v-6b4dc681] {\n    padding: 8px;\n}\n.user-drop > *[data-v-6b4dc681]{\n    font-size: 1rem;\n    padding: 8px 5px;\n    text-align: left;\n}\n.tr-user-enter-active[data-v-6b4dc681], .tr-user-leave-active[data-v-6b4dc681] {\n  -webkit-transition: opacity .9s;\n  transition: opacity .9s\n}\n.tr-user-enter[data-v-6b4dc681], .tr-user-leave-to[data-v-6b4dc681] /* .fade-leave-active in below version 2.1.8 */ {\n  opacity: 0\n}\n.tr-cart-enter-active[data-v-6b4dc681], .tr-cart-leave-active[data-v-6b4dc681] {\n  -webkit-transition: opacity .9s;\n  transition: opacity .9s\n}\n.tr-cart-enter[data-v-6b4dc681], .tr-cart-leave-to[data-v-6b4dc681] /* .fade-leave-active in below version 2.1.8 */ {\n  opacity: 0\n}\n.tr-cartlist-enter-active[data-v-6b4dc681], .tr-cartlist-leave-active[data-v-6b4dc681] {\n  -webkit-transition: opacity .9s;\n  transition: opacity .9s\n}\n.tr-cartlist-enter[data-v-6b4dc681], .tr-cartlist-leave-to[data-v-6b4dc681] /* .fade-leave-active in below version 2.1.8 */ {\n  opacity: 0\n}\n\n\n.footer[data-v-66a9ae9c]{\n    margin-top: 40px;\n    padding: 20px;\n    border-top: 1px solid rgba(0, 0, 0, .09);\n    /* border-color: #969696; */\n    color: #969696;\n}\n.mid[data-v-66a9ae9c] {\n    text-align:center;\n}\n\n\n.header[data-v-9bd13ad4] {\n    position: relative;\n}\n/* .bg-img{\n   background-repeat: no-repeat;\n   background-position: contain;\n   height: 500px; \n} */\n.slider[data-v-9bd13ad4] {\n    opacity: .85;\n}\n.cat[data-v-9bd13ad4] {\n    margin: 2rem 0;\n}\n.cat .cat-title[data-v-9bd13ad4]{\n    font-size: 2.5rem;\n    font-weight: 700;\n    padding: 0px 12px;\n    margin: 3rem 0;\n    border-left: 3px solid rgba(0, 0, 0, 1)\n}\n.cat .cat-title .des[data-v-9bd13ad4]{\n    font-size: 1.2rem;\n    font-weight: normal;\n    color: #969696;\n}\n.cat .card[data-v-9bd13ad4] {\n    position: relative;\n    padding: 0;\n    margin: 0;\n}\n.cat .card-group[data-v-9bd13ad4]  {\n    -webkit-column-count: 4;\n    column-count: 4;\n    -webkit-column-gap:15px;\n    column-gap:15px;\n}\n.cat .card img[data-v-9bd13ad4]{\n    height: 350px;\n}\n.cat .card .tap[data-v-9bd13ad4]{\n    font-size: 1.5rem;\n    position: absolute;\n    bottom: 10px;\n    left: 5px;\n    background: #F9726C;\n    color: #fff;\n    padding: 3px 15px;\n    opacity: .8;\n}\n.cat .card .tap.start-hot[data-v-9bd13ad4]{\n    background: #463931;\n}\n.cat .card .tap.occasion-hot[data-v-9bd13ad4]{\n    background: #463931;\n}\n.cat .card.single-hot img[data-v-9bd13ad4]{\n    height: 300px;\n}\n.cat .card.single-hot .tap[data-v-9bd13ad4]{\n    font-size: 1.5rem;\n    opacity: .9;\n}\n\n\n.pagination[data-v-087ba50a] {\n  text-align: center;\n  padding: 10px 0;\n}\n.pagination .active[data-v-087ba50a] {\n  background: #F9726C;\n}\n\n\n.fa-asterisk[data-v-79e895c4]{\n    color: #77D1E2;\n}\n.search-area[data-v-79e895c4] {\n    position: relative;\n}\n.search-bar[data-v-79e895c4] {\n  background: rgb(224, 224, 224);\n  padding: 10px;\n  text-align: center;\n}\n.search-item[data-v-79e895c4] {\n  padding: 10px;\n  margin: 0 20px;\n}\n.search-item img[data-v-79e895c4] {\n  width: 30px;\n  height: 30px;\n  opacity: 0.7;\n}\n.search-item[data-v-79e895c4]:hover {\n  background: #ccc;\n}\n.cat-panel[data-v-79e895c4] {\n    position: absolute;\n    top:100%;\n    left: 0%;\n    z-index: 1;\n    width: 100%;\n    border: 1px solid rgba(0, 0, 0, 0.07);\n    opacity: 1;\n}\n.cat-panel .panel[data-v-79e895c4] {\n  background: #f8f8f6;\n  color: rgba(0, 0, 0, 0.7);\n  cursor: pointer;\n}\n.cat-panel .panel .title[data-v-79e895c4] {\n    font-size: 1.1rem;\n    text-align: center;\n}\n.cat-panel .panel .title[data-v-79e895c4],\n.cat-panel .panel .link-group > *[data-v-79e895c4] {\n  padding: 10px 20px;\n}\n.card-group[data-v-79e895c4] {\n    -webkit-column-count: 3;\n    column-count: 3;\n    /* -webkit-column-width: 250px;\n    -moz-column-width: 250px;\n    column-width: 250px; */\n    -webkit-column-gap:20px;\n    column-gap:20px;\n    padding:30px 10%;\n}\n.box[data-v-79e895c4]{\n    -webkit-box-sizing: border-box;\n            box-sizing: border-box;    \n    padding: 5px;\n    /* border: solid 2px #eeeeee; */\n    border-radius: 4px;\n    margin-bottom: 30px;\n    cursor: pointer;\n}\n.pic[data-v-79e895c4] {\n    position: relative;\n}\n.pic img[data-v-79e895c4]{\n    width: 100%;\n    opacity: .8;\n}\n.box .info[data-v-79e895c4] {\n    /* visibility: hidden; */\n    /* display: none; */\n    opacity: 0;\n    font-size: 1rem;\n    position: absolute;\n    color: #F9726C;\n    padding: 8px;\n    border-radius: 5px;\n    background: #fff;\n    right: 10%;\n}\n.box .heart[data-v-79e895c4]{\n    bottom:18%;\n}\n.box .plus[data-v-79e895c4]{\n    bottom:5%;\n}\n.box:hover .info[data-v-79e895c4] {\n    opacity: .8;\n    /* visibility: visible; */\n    /* display: inline-block; */\n    opacity: 1;\n}\n.box .pic:hover img[data-v-79e895c4]{\n    opacity: 1;\n}\n.empty-area[data-v-79e895c4] {\n    width: 100%;\n    height: 480px;\n    text-align: center;\n    padding-top: 200px;\n}\n.empty-search[data-v-79e895c4]{\n    background-image: url(data:image/png;base64,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);\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: contain;\n    height: 80px;\n}\n.em-desc[data-v-79e895c4] {\n    padding: 15px;\n    color: #ccc;\n}\n\n\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n\n* {\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n}\n\nhtml {\n    font-family: sans-serif;\n    font-size: 13px;\n}\n\nimg {\n    max-width: 100%;\n    display: block;\n}\n\nspan, a {\n    display: inline-block;\n}\n\na {\n    text-decoration: none;\n    display: inline-block;\n}\n\n.container {\n    max-width: 1000px;\n    margin-left: auto;\n    margin-right: auto;\n}\n\nhr {\n    display: block;\n    height: 0;\n    border: 0;\n    border-bottom: 1px solid rgba(0, 0, 0, .05)\n}\n\n.left {\n    text-align: left;\n}\n\n.right {\n    text-align: right;\n}\n\n.row {\n    font-size: 0;\n    display: block;\n}\n\n[class^='col'] {\n    display: inline-block;\n    vertical-align: top;\n    font-size: 1rem;\n    /*==========*/\n    /*border: 1px solid #ccc;*/\n    /*min-height: 30px;*/\n}\n\n.col-lg-1 {\n    width: 8.333333333%;\n}\n\n.col-lg-2 {\n    width: 16.666666666%;\n}\n\n.col-lg-3 {\n    width: 25%;\n}\n\n.col-lg-4 {\n    width: 33.3333333333%;\n}\n\n.col-lg-5 {\n    width: 41.6666666666%;\n}\n\n.col-lg-6 {\n    width: 50%;\n}\n\n.col-lg-7 {\n    width: 58.33333333%;\n}\n\n.col-lg-8 {\n    width: 66.666666666%;\n}\n\n.col-lg-9 {\n    width: 75%;\n}\n\n.col-lg-10 {\n    width: 83.33333333333%;\n}\n\n.col-lg-11 {\n    width: 91.66666666666%;\n}\n\n.col-lg-12 {\n    width: 100%;\n}\n\n@media (max-width: 400px) {\n    .col-sm-1 {\n        width: 8.333333333%;\n    }\n    .col-sm-2 {\n        width: 16.666666666%;\n    }\n    .col-sm-3 {\n        width: 25%;\n    }\n    .col-sm-4 {\n        width: 33.3333333333%;\n    }\n    .col-sm-5 {\n        width: 41.6666666666%;\n    }\n    .col-sm-6 {\n        width: 50%;\n    }\n    .col-sm-7 {\n        width: 58.33333333%;\n    }\n    .col-sm-8 {\n        width: 66.666666666%;\n    }\n    .col-sm-9 {\n        width: 75%;\n    }\n    .col-sm-10 {\n        width: 83.33333333333%;\n    }\n    .col-sm-11 {\n        width: 91.66666666666%;\n    }\n    .col-sm-12 {\n        width: 100%;\n    }\n}\n\n/* ==========btn========= */\n\ninput,\nbutton {\n  padding: 5px;\n  font-size: 1rem;\n  border: 1px solid rgba(0, 0, 0, .1);\n  vertical-align: top;\n  outline: 0;\n}\n\n.input-control {\n    margin: 10px 0;\n}\n\n.input-control > *{\n    vertical-align: middle;\n    /* padding-right: 8px; */\n}\n[type='checkbox'] {\n    margin: 0 5px;\n}\n.input-control label {\n    display: block;\n    padding: 2px;\n}\n.btn {\n    padding: 5px 8px;\n}\n.btn-primary {\n    /* background: #fd521d; */\n    color: #1e1e1e;\n}\n\n.btn-fat {\n    padding-left: 40px;\n    padding-right: 40px;\n}\n\n/* =============table========== */\n\ntable {\n    border-collapse: collapse;\n    width: 100%;\n}\n\nth, td {\n    font-size: 1rem;\n    padding: 10px;\n    text-align: center;\n}\n\ntd {\n    border-bottom: 1px solid rgba(0, 0, 0, .1);\n}\n\nth {\n    border-bottom: 2px solid rgba(0, 0, 0, .1);\n}\n\ntbody tr:hover {\n    background: rgba(0, 0, 0, .05);\n}\n/* ============\b货币标识符号======= */\n.currency:before {\n    content: '\\FFE5';\n}\n\n/* =========error=========\n */\n\n .error-list {\n    padding: 5px;\n    color: #c10;\n    font-size: 0.7rem;\n}\n.error {\n    padding: 15x;\n}\n/* ==========disabled========== */\nbutton[disabled],\ninput[disabled],\ntextarea[disabled] {\n  opacity: .6;\n  cursor: not-allowed;\n}\n/* ===========close======== */\n.close::before{\n    content: 'X';\n}\n /* ===========色板============ */\n\n.color {\n    color: #77D1E2;\n    color: #FFFFFF;\n    color: #CCCCCC;\n    color: #f1edee;\n    color: #F9726C;\n    color: #f8f8f6;\n    color: #969696;\n}\n\n\n.product[data-v-9bc62298] {\n    padding: 20px 0;\n    background: rgba(0, 0, 0, .03);\n}\n.main[data-v-9bc62298]{\n    padding-left: 10%;\n    height: 440px;\n}\n.main .info-item[data-v-9bc62298]{\n    padding: 10px 0;\n    vertical-align: middle;\n}\n.info-item button[data-v-9bc62298] {\n    margin: 0 5px;\n    border-radius: 4px;\n}\n.info-item button[data-v-9bc62298]:hover {\n    background: #F9726C;\n    color: #fff;\n    cursor: pointer;\n}\n.product .pic[data-v-9bc62298] {\n    padding-left: 10%;\n}\n.key[data-v-9bc62298] {\n    margin-right:  12px;\n}\n.count[data-v-9bc62298]{\n    border: 1px solid rgba(0, 0, 0, .05);\n    padding: 5px 30px;\n}\n\n\n.pay_by >*[data-v-75e10768]{\n    text-align: center;\n}\n.pay_by img[data-v-75e10768]{\n    display: inline-block;\n}\n\n\n.header[data-v-31f2216c] {\n  /* background-image: url(\"../assets/login/1300x400.png\"); */\n}\n.main-form[data-v-31f2216c] {\n  margin-top: 30px;\n  width: 300px;\n  background: #fff;\n  margin-left: auto;\n  margin-right: auto;\n  padding: 10px 15px;\n  border: 1px solid rgba(0, 0, 0, .08)\n}\nh1[data-v-31f2216c] {\n  margin: 0;\n  font-size: 1.5rem;\n  text-align: center;\n}\n.header[data-v-31f2216c] {\n  height: 400px;\n  background-repeat: no-repeat;\n  background-size: contain;\n}\n.main-form input[data-v-31f2216c],\n.main-form button[data-v-31f2216c] {\n  width: 100%;\n  font-size: 1rem;\n  padding: 8px;\n}\n.main-form button[data-v-31f2216c] {\n  background: #F9726C;\n  color: #fff;\n}\n\n\n\n.wrap[data-v-0c34069e] {\n  /* background-image: url(\"../assets/login/1300x400.png\"); */\n}\n.main-form[data-v-0c34069e] {\n  margin-top: 30px;\n  width: 400px;\n  background: #fff;\n  margin-left: auto;\n  margin-right: auto;\n  padding: 10px 15px;\n  border: 1px solid rgba(0, 0, 0, .08)\n}\nh1[data-v-0c34069e] {\n  margin: 0;\n  font-size: 1.5rem;\n  text-align: center;\n}\n.wrap[data-v-0c34069e] {\n  height: 400px;\n  background-repeat: no-repeat;\n  background-size: contain;\n}\n.main-form[data-v-0c34069e] {\n}\n.main-form > *[data-v-0c34069e] {\n  padding: 5px 0;\n}\n.main-form input[data-v-0c34069e],\n.main-form button[data-v-0c34069e] {\n  width: 100%;\n  font-size: 1rem;\n  padding: 8px;\n}\n.main-form button[data-v-0c34069e] {\n  background: #F9726C;\n  color: #fff;\n}\n.main-form .tab-title > *[data-v-0c34069e] {\n  padding: 5px;\n  padding-bottom: 10px;\n  text-align: center;\n}\n.main-form .tab-title .active[data-v-0c34069e] {\n  border-bottom: 2px solid #F9726C;\n}\n.phone-valid button[data-v-0c34069e] {\n  width: 40%;\n}\n.phone-valid input[data-v-0c34069e] {\n  width: 60%;\n}\n.input-control[data-v-0c34069e] {\n  margin: 0;\n}\n\n.nav-side {\n    background: #fff;\n    border: 1px solid rgba(0, 0, 0, .05);\n    margin-right: 20px;\n    -webkit-box-shadow: 3px 3px 5px rgba(0, 0, 0, .05);\n            box-shadow: 3px 3px 5px rgba(0, 0, 0, .05)\n}\n\n.nav-side  .nav-item {\n    font-size: 1.1rem;\n    color: #555;\n    display: block;\n    padding: 10px 20px;\n}\n.nav-side  .nav-item:active {\n    background: rgba(0, 0, 0, .05);\n}\n\n.router-link-active[data-v-0488cefe] {\n    background: #F9726C;\n    color: #fff;\n    -webkit-box-shadow: 3px 3px 5px rgba(0, 0, 0, .05);\n            box-shadow: 3px 3px 5px rgba(0, 0, 0, .05)\n}\n\n\n\n.cute-form[data-v-96b8c6a2]{\n    padding: 15px 7px;\n    border-bottom: 1px solid rgba(0, 0, 0, .1)\n}\n.cute-form form >*[data-v-96b8c6a2] {\n    margin: 5px;\n}\n.key[data-v-96b8c6a2] {\n    font-size: 1.3rem;\n    color: #969696;\n}\n.value[data-v-96b8c6a2] {\n    font-size: 1rem;\n}\n\n\n.cart[data-v-84c47e78]{\n    border: 1px solid rgba(0, 0, 0, .06);\n    margin-bottom: 20px;\n    padding: 10px;\n}\n.cart>*[data-v-84c47e78]{\n    padding-right: 20px;\n}\n.cart .cart-item[data-v-84c47e78]{\n    padding: 10px;\n    border-bottom: 1px solid rgba(0, 0, 0, .06);\n}\n.cart .right[data-v-84c47e78]{\n    padding: 10px  0;\n}\n.cart .right >*[data-v-84c47e78] {\n    margin:  5px 0;\n}\n.cart-item img[data-v-84c47e78]{\n    width: 100px;\n}\n.info[data-v-84c47e78] {\npadding-left: 10%;\n}\n.cart .pay >*[data-v-84c47e78],\n.cart .info >*[data-v-84c47e78]{\n    padding: 4px 0;\n}\n\n\n\n.order[data-v-52fc1291]{\n    border: 1px solid rgba(0, 0, 0, .06);\n    margin-bottom: 20px;\n}\n.order .header[data-v-52fc1291],\n.order .wrap[data-v-52fc1291] {\n    padding: 20px;\n    text-align: center;\n}\n.order .header[data-v-52fc1291],\n.order .wrap-pay[data-v-52fc1291] {\n    background: #f8f8f6;\n}\n.order .header .title[data-v-52fc1291]{\n    text-align: left;\n}\n.order .wrap[data-v-52fc1291]{\n    padding-bottom: 10px;\n    border-bottom: 1px solid rgba(0, 0, 0, .09);\n}\n.order .wrap >*[data-v-52fc1291] {\n    vertical-align: top;\n    text-align: center;\n}\n.order .wrap img[data-v-52fc1291]{\n    width: 100px;\n    height: 100px;\n}\n.order .wrap-pay[data-v-52fc1291],\n.order .wrap-3[data-v-52fc1291]\n{\n    padding: 20px 40px;\n}\n.order .wrap-pay[data-v-52fc1291]{\n    border-bottom: 1px solid rgba(0, 0, 0, .06);\n}\n.order .wrap-pay .pay-item[data-v-52fc1291]{\n    display: inline-block;\n    padding: 0 40px;\n}\n.order .wrap-pay .pay-item>*[data-v-52fc1291]{\n    vertical-align: middle;\n}\n.order .wrap-pay .pay-item img[data-v-52fc1291]{\n    padding-right: 12px;\n}\n.order .wrap-3 .line1[data-v-52fc1291]{\n    border-bottom: 1px dashed rgba(0, 0, 0, .06);\n}\n.order .wrap-3 .item[data-v-52fc1291]{\n    padding-left: 80px;\n    padding-bottom: 20px;\n}\n.order .wrap-3 .btn[data-v-52fc1291] {\n    padding: 10px 60px;\n    border-radius: 5px;\n    background: #F9726C;\n    color: #fff;\n    cursor: pointer;\n}\n.order .wrap-3 .total[data-v-52fc1291] {\n    padding: 20px 60px 10px 0;\n    font-size: 1.3rem;\n}\n\n\n.order[data-v-5e70a2d7]{\n    border: 1px solid rgba(0, 0, 0, .06);\n    margin-bottom: 20px;\n    padding: 10px;\n}\n.order>*[data-v-5e70a2d7]{\n    padding-right: 20px;\n}\n.order .wrap[data-v-5e70a2d7]{\n    padding-bottom: 10px;\n    border-bottom: 1px solid rgba(0, 0, 0, .06);\n}\n.order .right[data-v-5e70a2d7]{\n    padding: 10px  0;\n}\n.info[data-v-5e70a2d7] {\npadding-left: 10%;\n}\n.order .pay >*[data-v-5e70a2d7],\n.order .info >*[data-v-5e70a2d7]{\n    padding: 4px 0;\n}\n\n\n\n.btn[data-v-0283f633]{\n    padding: 5px;\n    border: 1px solid rgba(0, 0, 0, .1);\n    color: #000;\n    cursor: pointer;\n    margin: 0 2px;\n}\n.mask[data-v-0283f633] {\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, .1);\n}\n.wrap-detail[data-v-0283f633] {\n    position: absolute;\n    top: 15%;\n    left: 22%;\n    width: 700px;\n    height: 250px;\n    background: #f8f8f6;\n    padding: 20px;\n}\n.check[data-v-0283f633] {\n   cursor:pointer;\n}\n.header[data-v-0283f633] {\n    margin-bottom: 15px;\n}\n.header .item[data-v-0283f633]{\n    font-size: 1.3rem;\n    border-bottom: 2px solid rgba(0, 0, 0, .1);\n    padding: 13px 1px;\n    text-align: center;\n}\n.header .item[data-v-0283f633]:hover{\n    color: #F9726C;\n}\n.header .item.active[data-v-0283f633]{\n    border-color: #F9726C; \n    color: #F9726C\n}\n.empty-area[data-v-0283f633] {\n    width: 620px;\n    height: 480px;\n    text-align: center;\n}\n.em-desc[data-v-0283f633] {\n    color: #ccc;\n}\n.empty-img[data-v-0283f633] {\n    background-image: url(data:image/png;base64,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);\n    background-repeat: no-repeat;\n    background-position: center;\n    height: 100px;\n}\n\n\n.router-link-active[data-v-7e9196cc] {\n    background: #F9726C;\n    color: #fff;\n    -webkit-box-shadow: 3px 3px 5px rgba(0, 0, 0, .05);\n            box-shadow: 3px 3px 5px rgba(0, 0, 0, .05)\n}\n\n\n\n.drop-area,\n.dropdown input,\n.drop-title,\n.drop-item {\n  width: 100%;\n}\n.drop-area {\n  z-index: 20;\n  position: absolute;\n  opacity: .9;\n}\n.dropdown {\n  position: relative;\n  /* display: inline-block; */\n  padding: 10px 0;\n}\n.dropdown input {\n  padding: 3px 5px;\n  display: inline-block;\n}\n.drop-title,\n.drop-item {\n  background: #fff;\n  padding: 2px;\n  display: block;\n  font-size: 1rem;\n  border: 1px solid #d9e1e5;\n}\n.dropdown:hover .drop-title {\n  border-bottom: 0;\n}\n.dropdown:hover .drop-item,\n.dropdown:hover .drop-title {\n  border-color: #0b5a81;\n}\n.drop-item > *:hover {\n  background: #0b5a81;\n  color: #fff;\n}\n.drop-item {\n  position: absolute;\n  z-index: 10;\n}\n\n\n.input-control button[data-v-d554c038],\nbutton[data-v-d554c038]:hover {\n  background: #0b5a81;\n  color: #fff;\n}\n.input-control button[data-v-d554c038] {\n  margin: 0px 10px;\n}\n\n\n.input-control[data-v-c972173c] {\n    display: block;\n    margin: 15px 0;\n}\n.input-control button[data-v-c972173c],\nbutton[data-v-c972173c]:hover {\n  background: #0b5a81;\n  color: #fff;\n}\n.input-control button[data-v-c972173c] {\n  margin: 0px 10px;\n}\n\n\n.input-control[data-v-7d66325e] {\n    display: block;\n    margin: 15px 0;\n}\n.input-control button[data-v-7d66325e],\nbutton[data-v-7d66325e]:hover {\n  background: #0b5a81;\n  color: #fff;\n}\n.input-control button[data-v-7d66325e] {\n  margin: 0px 10px;\n}\n\n\n.input-control[data-v-6085c8ae] {\n    display: block;\n    margin: 15px 0;\n}\n.input-control button[data-v-6085c8ae],\nbutton[data-v-6085c8ae]:hover {\n  background: #0b5a81;\n  color: #fff;\n}\n.input-control button[data-v-6085c8ae] {\n  margin: 0px 10px;\n}\n\n\n.input-control[data-v-20ccd9c4] {\n    display: block;\n    margin: 15px 0;\n}\n.input-control button[data-v-20ccd9c4],\nbutton[data-v-20ccd9c4]:hover {\n  background: #0b5a81;\n  color: #fff;\n}\n.input-control button[data-v-20ccd9c4] {\n  margin: 0px 10px;\n}\n\n\n.input-control[data-v-270c3711] {\n    display: block;\n    margin: 15px 0;\n}\n.input-control button[data-v-270c3711],\nbutton[data-v-270c3711]:hover {\n  background: #0b5a81;\n  color: #fff;\n}\n.input-control button[data-v-270c3711] {\n  margin: 0px 10px;\n}\n.mask[data-v-270c3711] {\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, .1);\n}\n.wrap-detail[data-v-270c3711] {\n    position: absolute;\n    top: 15%;\n    left: 22%;\n    width: 700px;\n    height: 250px;\n    background: #f8f8f6;\n    padding: 20px;\n}\n.check[data-v-270c3711]{\n    cursor:pointer;\n}\n\n\n.input-control[data-v-438be066] {\n    display: block;\n    margin: 15px 0;\n}\n.input-control button[data-v-438be066],\nbutton[data-v-438be066]:hover {\n  background: #0b5a81;\n  color: #fff;\n}\n.input-control button[data-v-438be066] {\n  margin: 0px 10px;\n}\n\n\n.input-control button[data-v-5060bb73],\nbutton[data-v-5060bb73]:hover {\n  background: #0b5a81;\n  color: #fff;\n}\n.input-control button[data-v-5060bb73] {\n  margin: 0px 10px;\n}\n\n\n.input-control[data-v-74cddc4b] {\n    display: block;\n    margin: 15px 0;\n}\n.input-control button[data-v-74cddc4b],\nbutton[data-v-74cddc4b]:hover {\n  background: #0b5a81;\n  color: #fff;\n}\n.input-control button[data-v-74cddc4b] {\n  margin: 0px 10px;\n}\n\n\n.input-control[data-v-3391fd8e] {\n    display: block;\n    margin: 15px 0;\n}\n.input-control button[data-v-3391fd8e],\nbutton[data-v-3391fd8e]:hover {\n  background: #0b5a81;\n  color: #fff;\n}\n.input-control button[data-v-3391fd8e] {\n  margin: 0px 10px;\n}\n\n\n.input-control[data-v-0d071f78] {\n    display: block;\n    margin: 15px 0;\n}\n.input-control button[data-v-0d071f78],\nbutton[data-v-0d071f78]:hover {\n  background: #0b5a81;\n  color: #fff;\n}\n.input-control button[data-v-0d071f78] {\n  margin: 0px 10px;\n}\n\n\n/*# sourceMappingURL=app.7edbb9b8.css.map*/","<template>\n    <div :style=\"{width:width}\" class=\"nav-side\">\n        <router-link class=\"nav-item\" to=\"/order/meorder\">我的订单</router-link>\n        <router-link class=\"nav-item\" to=\"/me/setting\">设置</router-link>\n    </div>\n</template>\n\n<script>\n    import \"../css/sidenav.css\";\n    export default {\n       props:{\n            width:[ 'width' ],\n       } \n    }\n</script>\n\n<style scoped>\n    .router-link-active {\n        background: #F9726C;\n        color: #fff;\n        box-shadow: 3px 3px 5px rgba(0, 0, 0, .05)\n    }\n\n</style>\n","<template>\n    <div>\n        <Nav :pushDown=\"true\"/>\n        <div class=\"container\">\n            <div class=\"col-lg-3\">\n                <SideNav/>\n            </div>\n            <div class=\"col-lg-6\">\n                <div>\n                    <h2>常规设置</h2>\n                    <div>\n                        <div class=\"cute-form\">\n                            <form v-if=\"show.username\" @submit.prevent=\"submit('username')\">\n                                <input type=\"text\" autofocus v-model=\"current.username\">\n                                <button class=\"btn\" type=\"submit\">确定</button>\n                                <button class=\"btn\" @click=\"show.username = false\" type=\"button\">取消</button>\n                            </form>\n                            <div v-else class=\"wrap-row\">\n                                <div class=\"col-lg-2\">\n                                    <span class=\"key\">用户名</span>\n                                </div>\n                                <div class=\"col-lg-8\">\n                                    <span class=\"value\">{{current.username||'-'}}</span>\n                                </div>\n                                <div class=\"col-lg-2\">\n                                    <button @click=\"show.username = true\" class=\"btn\">编辑</button>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"cute-form\">\n                            <form v-if=\"show.email\" @submit.prevent=\"submit(email)\">\n                                <input type=\"text\" autofocus v-model=\"current.email\">\n                                <button class=\"btn\" type=\"submit\">确定</button>\n                                <button class=\"btn\" @click=\"show.email = false\" type=\"button\">取消</button>\n                            </form>\n                            <div v-else class=\"wrap-row\">\n                                <div class=\"col-lg-2\">\n                                    <span class=\"key\">邮箱</span>\n                                </div>\n                                <div class=\"col-lg-8\">\n                                    <span class=\"value\">{{current.email||'-'}}</span>\n                                </div>\n                                <div class=\"col-lg-2\">\n                                    <button @click=\"show.email = true\" class=\"btn\">编辑</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                \n                <div>\n                    <h2>安全设置</h2>\n                    <div>\n                        <div class=\"cute-form\">\n                            <form v-if=\"show.password\" @submit.prevent=\"change_password('password')\">\n                                <input type=\"password\" autofocus v-model=\"password.old\" placeholder=\"原密码\">\n                                <input type=\"password\" autofocus v-model=\"password.new\" placeholder=\"新密码\">\n                                <button class=\"btn\" type=\"submit\">确定</button>\n                                <button class=\"btn\" @click=\"show.password = false\" type=\"button\">取消</button>\n                            </form>\n                            <div v-else class=\"wrap-row\">\n                                <div class=\"col-lg-2\">\n                                    <span class=\"key\">修改密码</span>\n                                </div>\n                                <div class=\"col-lg-8\">\n                                    <!-- <span class=\"value\">{{current.password||'-'}}</span> -->\n                                </div>\n                                <div class=\"col-lg-2\">\n                                    <button @click=\"show.password = true\" class=\"btn\">编辑</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"container\">\n            <Footer/>\n        </div>\n    </div>\n</template>\n<script>\n    import Nav from '../components/Nav';\n    import Footer from '../components/Footer';\n    import SideNav from '../components/SideNav';\n    import '../css/sidenav.css';\n    import session from '../lib/session';\n    import api from '../lib/api';\n\n    export default {\n        components:{Nav , SideNav ,Footer},\n        data(){\n            return{\n                error:{\n                    invalid_password:false,\n                },\n                current:session.uinfo(),\n                show:{\n                    username:false,\n                    email:false,\n                    password:false,\n                },\n                password:{\n                    new:'',\n                    old:'',\n                }\n            }\n        },\n        methods:{\n            submit(property){\n                api('user/update',this.current)\n                    .then(r=>{\n                        session.replace_uinfo(r.data);\n                        this.show[property] = false;\n                        this.$nextTick(()=>{\n                            this.$username = r.data.username;\n                        })\n                    })\n            },\n            change_password(){\n                let u = session.uinfo();\n                let unique = u.username || u.email || u.phone;\n                console.log('unique',unique);\n                \n                session.exist(unique,this.password.old)\n                    .then(r=>{\n                        r ? this.update_password() : this.error.invalid_password;\n                    })\n            },\n            update_password(){\n                return api('user/update',{\n                    id:this.current.id,\n                    password:this.password.new\n                }).then(r=>{\n                    alert('修改密码成功')\n                    session.logout('#/login')\n                })\n            }\n        }\n    }\n</script>\n<style scoped>\n.cute-form{\n    padding: 15px 7px;\n    border-bottom: 1px solid rgba(0, 0, 0, .1)\n}\n.cute-form form >* {\n    margin: 5px;\n}\n\n.key {\n    font-size: 1.3rem;\n    color: #969696;\n}\n.value {\n    font-size: 1rem;\n}\n</style>\n","<template>\n    <div>\n       <Nav :pushDown=\"true\"/>\n       <div  class=\"container\">\n            <div class=\"cart\">\n                <div class=\"cart-item\" v-for=\"(product,index) in cart\" :key=\"index\">\n                    <div class=\"col-lg-1\">\n                        <img :src=\"product.$product.preview[0].url\" alt=\"\">\n                    </div>\n                    <div class=\"col-lg-5 info\">\n                        <div class=\"name\">{{product.$product.name}}</div>\n                        <div>单价: <span class=\"currency\">{{product.$product.price}}</span></div>\n                        <div>数量: <span>{{product.count}}</span></div>\n                    </div>\n                    <div class=\"col-lg-4 pay\">\n                        支付方式：\n                        <div>\n                            <label>\n                            <input type=\"radio\" v-model=\"current.pay_by\" value=\"wechat\">\n                            微信支付\n                            </label>\n                        </div>\n                        <div>\n                            <label>\n                            <input type=\"radio\" v-model=\"current.pay_by\" value=\"alipay\">\n                            支付宝\n                            </label>\n                        </div>\n                    </div>\n                    <div class=\"col-lg-2 right\">\n                        <div>\n                            小计： <span>{{product.$product.price * product.count}}</span>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"right\">\n                    <div>\n                    共计：{{sumAll}}\n                    </div>\n                    <button class=\"btn\" @click.prevent=\"submit\">提交订单</button>\n                </div>\n            </div>\n            <Footer/>\n       </div>\n    </div>\n</template>\n<script>\n    import Nav from '../components/Nav';\n    import Footer from '../components/Footer';\n    import api from '../lib/api';\n    import {generate_oid} from '../lib/order';\n    import session from '../lib/session';\n    export default{\n        components:{Nav , Footer},\n        data(){\n            return{\n                current:{\n                    pay_by:'wechat',\n                },\n                payment_url:null,\n                uinfo:session.uinfo(),\n                with:[\n                    {model:'product',relation:'has_one'}\n                ],\n                cart:{},\n            }\n        },\n        computed:{\n            sumAll(){\n                let sum = 0;\n                let cart = this.cart;\n                for(let key in cart){\n                    let item = cart[key];\n                    sum += item.$product.price * item.count\n                }\n            }\n        },\n        mounted() {\n            this.read();\n        },\n        methods:{\n            submit(){\n                this.current.oid = generate_oid(this.product.id);\n                this.current.sum = this.total;\n                \n                this.current.user_id = this.uinfo.id;\n\n                api('order/create',this.current)\n                    .then(r=>{\n                        // this.current.id = r.data.id;//用oid还是id？\n                        \n                        // this.pay(this.current.id,c.pay_by,this.total)\n                        this.$router.push('/pay/'+ r.data.oid)\n                    })\n            },\n            read(){\n                api('cart/read',{\n                    where:{\n                        user_id:this.uinfo.id,\n                    },\n                    with:this.with\n                }).then(r=>{\n                        this.cart = r.data;\n                    })\n            },\n        }\n    }\n</script>\n<style scoped>\n.cart{\n    border: 1px solid rgba(0, 0, 0, .06);\n    margin-bottom: 20px;\n    padding: 10px;\n} \n.cart>*{\n    padding-right: 20px;\n}\n.cart .cart-item{\n    padding: 10px;\n    border-bottom: 1px solid rgba(0, 0, 0, .06);\n}\n.cart .right{\n    padding: 10px  0;\n}\n.cart .right >* {\n    margin:  5px 0;\n}\n.cart-item img{\n    width: 100px;\n}\n.info {\npadding-left: 10%;    \n}\n.cart .pay >*,\n.cart .info >*{\n    padding: 4px 0;\n}\n\n</style>\n","<template>\n    <div>\n       <Nav :pushDown=\"true\"/>\n       <div class=\"container\">\n            <div class=\"order\" >\n                <div class=\"header\">\n                    <div class=\"col-lg-4 title\">\n                        商品信息\n                    </div>\n                    <div class=\"col-lg-2\">\n                        单价\n                    </div>\n                    <div class=\"col-lg-2\">\n                        数量\n                    </div>\n                    <div class=\"col-lg-2\">\n                        小计\n                    </div>\n                    <div class=\"col-lg-2\">\n                        实付\n                    </div>\n                </div>\n                <div class=\"wrap\" v-if=\"current._referer == 'cart_buy'\" v-for=\"(item,index) in product\" :key=\"index\">\n                    <div class=\"col-lg-4\">\n                        <div class=\"col-lg-4\">\n                            <img :src=\"item.$product.preview[0].url\" alt=\"\">\n                       </div>\n                        <div class=\"col-lg-8 name\">{{item.$product.name}}</div>\n                    </div>\n                    <div class=\"col-lg-2 info\">\n                        <div class=\"currency\">{{item.$product.price}}</div>\n                    </div>\n                    <div class=\"col-lg-2\">\n                        <div>{{item.count}}</div>\n                    </div>\n                    <div class=\"col-lg-2\">\n                        <div class=\"currency\">{{item.$product.price*item.count}}</div>\n                    </div>\n                     <div class=\"col-lg-2\">\n                        <div class=\"currency\">{{item.$product.price*item.count}}</div>\n                    </div>\n                </div>\n                <div class=\"wrap\" v-if=\"current._referer == 'item_buy'\">\n                   <div class=\"col-lg-4\">\n                        <div class=\"col-lg-4\">\n                            <img :src=\"product.preview && product.preview[0] && product.preview[0].url\" alt=\"此无图片\">\n                       </div>\n                        <div class=\"col-lg-8 name\">{{product.name}}</div>\n                    </div>\n                    <div class=\"col-lg-2 info\">\n                        <div class=\"currency\">{{product.price}}</div>\n                    </div>\n                    <div class=\"col-lg-2\">\n                        <div>{{current.count}}</div>\n                    </div>\n                    <div class=\"col-lg-2\">\n                        <div class=\"currency\">{{product.price*current.count}}</div>\n                    </div>\n                     <div class=\"col-lg-2\">\n                        <div class=\"currency\">{{product.price*current.count}}</div>\n                    </div>\n                </div>\n                <div class=\"wrap-pay\">\n                    支付方式：\n                    <div class=\"pay-item col-lg-4\">\n                        <div class=\"col-lg-2\">\n                            <img src=\"../../assets/wechat.png\" alt=\"\">\n                        </div>\n                        <div class=\"col-lg-6\">\n                            <input type=\"radio\" v-model=\"current.pay_by\" value=\"wechat\">\n                            <label>\n                            微信支付\n                            </label>\n                        </div>\n                    </div>\n                    <div class=\"pay-item col-lg-4\">\n                        <div class=\"col-lg-2\">\n                            <img src=\"../../assets/zhifubao.png\" alt=\"\">\n                        </div>\n                        <div class=\"col-lg-6\">\n                            <input type=\"radio\" v-model=\"current.pay_by\" value=\"alipay\">\n                            <label>\n                            支付宝\n                            </label>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"wrap-3\">\n                    <div class=\"col-lg-12 line1 right\">\n                        <div>\n                            商品合计：\n                            <span class=\"item currency\">{{total}}</span>\n                        </div>\n                        <div>\n                            活动优惠：\n                            <span class=\"item currency\">{{total}}</span>\n                        </div>\n                        <div>\n                            运费：\n                            <span class=\"item currency\">{{total}}</span>\n                        </div>\n                        <div>\n                            优惠券：\n                            <span class=\"item currency\">{{total}}</span>\n                            \n                        </div>\n                    </div>\n                    <div class=\"right\">\n                        <div class=\"total\">共计：\n                            <span class=\"currency\">{{total}}</span>\n                        </div>\n                        <button class=\"btn\" @click.prevent=\"submit\">提交订单</button>\n                    </div>\n                </div>\n            </div>\n       </div>\n       <div class=\"container\">\n           <Footer/>\n       </div>\n    </div>\n</template>\n<script>\n    import Nav from '../../components/Nav';\n    import Footer from '../../components/Footer';\n    import api from '../../lib/api';\n    import {generate_oid} from '../../lib/order';\n    import session from '../../lib/session';\n    export default{\n        components:{Nav , Footer},\n        data(){\n            return{\n                product:{},\n                current:{\n                    pay_by:'wechat',\n                },\n                payment_url:null,\n                uinfo:session.uinfo(),\n                with:[\n                    {model:'product',relation:'has_one'},\n                ]\n            }\n        },\n        computed:{\n            total(){\n                if(this.current._referer == 'item_buy')\n                    return this.total_item();\n                let sum = 0\n                let product = this.product;\n                for(let key in product){\n                    let val = product[key];\n                    sum += val.$product.price * val.count\n                }\n                return sum;\n            },\n        },\n        mounted() {\n            let c =  this.current = Object.assign({},this.current,this.$route.query)\n            if(c._referer == 'item_buy')\n                this.find('product',this.current.id)\n            if(c._referer == 'cart_buy')\n                this.find('cart',this.current.id);\n        },\n        methods:{\n            total_item(){\n                return this.product.price * this.current.count\n            },\n            submit(){\n                let c = this.current\n                c.oid = generate_oid(parseInt(Math.random()*10));\n                c.sum = this.total;\n                \n                c.user_id = this.uinfo.id;\n                \n                //给订单的product_info添加信息\n                let product = this.product\n                    ,len = product.length\n                    ,info = []\n                    ;\n                if(c._referer == 'item_buy'){\n                    // let info = {id:c.id,count:c.count};\n                    // c.product_info = info;\n                    c.product_info = product;\n                    c.product_info.count = c.count\n                }else{\n                    // console.log('this.product',this.product);\n                    \n                    for(let i =0;i<len;i++ ){\n                        info.push(product[i])\n                    }\n                    c.product_info = info;\n                }\n                \n                // // 删除购物车对应的项\n                this.remove_cart(c.id);\n\n                delete c.id\n                api('order/create',c)\n                    .then(r=>{\n                        this.$router.push('/pay/'+ r.data.oid)\n                    })\n            },\n            remove_cart(id){\n                api('cart/delete_many',{in:this.current.id})\n            },\n            find(model,id){\n                api(`${model}/find`,{\n                    id,\n                    with:this.with,\n                }).then(r=>{\n                        this.product = r.data;\n                    })\n            },\n        }\n    }\n</script>\n<style scoped>\n.order{\n    border: 1px solid rgba(0, 0, 0, .06);\n    margin-bottom: 20px;\n} \n.order .header,\n.order .wrap {\n    padding: 20px;\n    text-align: center;\n}\n.order .header,\n.order .wrap-pay {\n    background: #f8f8f6;\n}\n.order .header .title{\n    text-align: left;\n}\n.order .wrap{\n    padding-bottom: 10px;\n    border-bottom: 1px solid rgba(0, 0, 0, .09);\n}\n.order .wrap >* {\n    vertical-align: top;\n    text-align: center;\n}\n.order .wrap img{\n    width: 100px;\n    height: 100px;\n}\n\n.order .wrap-pay,\n.order .wrap-3\n{\n    padding: 20px 40px;\n}\n.order .wrap-pay{\n    border-bottom: 1px solid rgba(0, 0, 0, .06);\n}\n.order .wrap-pay .pay-item{\n    display: inline-block;\n    padding: 0 40px;\n}\n.order .wrap-pay .pay-item>*{\n    vertical-align: middle;\n}\n.order .wrap-pay .pay-item img{\n    padding-right: 12px;\n}\n.order .wrap-3 .line1{\n    border-bottom: 1px dashed rgba(0, 0, 0, .06);\n}\n.order .wrap-3 .item{\n    padding-left: 80px;\n    padding-bottom: 20px;\n    \n}\n.order .wrap-3 .btn {\n    padding: 10px 60px;\n    border-radius: 5px;\n    background: #F9726C;\n    color: #fff;\n    cursor: pointer;\n}\n.order .wrap-3 .total {\n    padding: 20px 60px 10px 0;\n    font-size: 1.3rem;\n}\n</style>\n","<template>\n    <div>\n       <Nav :pushDown=\"true\"/>\n       <div  class=\"container\">\n            <div class=\"order\">\n                <div class=\"wrap\">\n                    <div class=\"col-lg-1\">\n                        <img :src=\"product.preview[0].url\" alt=\"\">\n                    </div>\n                    <div class=\"col-lg-5 info\">\n                        <div class=\"name\">{{product.name}}</div>\n                        <div>单价: <span class=\"currency\">{{product.price}}</span></div>\n                        <div>数量: <span>{{current.count}}</span></div>\n                    </div>\n                    <div class=\"col-lg-4 pay\">\n                        支付方式：\n                        <div>\n                            <label>\n                            <input type=\"radio\" v-model=\"current.pay_by\" value=\"wechat\">\n                            微信支付\n                            </label>\n                        </div>\n                        <div>\n                            <label>\n                            <input type=\"radio\" v-model=\"current.pay_by\" value=\"alipay\">\n                            支付宝\n                            </label>\n                        </div>\n                    </div>\n                    <div class=\"col-lg-2 right\">\n                        <div>\n                            共计： <span>{{total}}</span>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"right\">\n                    <button class=\"btn\" @click.prevent=\"submit\">提交订单</button>\n                </div>\n            </div>\n       </div>\n       <div class=\"contain\">\n           <Footer/>\n       </div>\n    </div>\n</template>\n<script>\n    import Nav from '../../components/Nav';\n    import Footer from '../../components/Footer';\n    import api from '../../lib/api';\n    import {generate_oid} from '../../lib/order';\n    import session from '../../lib/session';\n    export default{\n        components:{Nav,Footer},\n        data(){\n            return{\n                product:{},\n                current:{\n                    pay_by:'wechat',\n                },\n                payment_url:null,\n                uinfo:session.uinfo(),\n            }\n        },\n        computed:{\n            total(){\n                return this.current.count * this.product.price;\n            }\n        },\n        mounted() {\n            // console.log('this.$route.query',this.$route.query);\n            let c =  this.current = Object.assign({},this.current,this.$route.query)\n            if(c._referer= 'item_buy')\n                this.find('product',this.current.id)\n            this.find_cart('cart',this.current.id);\n        },\n        methods:{\n            submit(){\n                this.current.oid = generate_oid(this.product.id);\n                this.current.sum = this.total;\n                \n                this.current.user_id = this.uinfo.id;\n\n                api('order/create',this.current)\n                    .then(r=>{\n                        // this.current.id = r.data.id;//用oid还是id？\n                        \n                        // this.pay(this.current.id,c.pay_by,this.total)\n                        this.$router.push('/pay/'+ r.data.oid)\n                    })\n            },\n            find(model,id){\n                api(`${model}/find`,{id})\n                    .then(r=>{\n                        this.product = r.data;\n                    })\n            },\n           \n        }\n    }\n</script>\n<style scoped>\n.order{\n    border: 1px solid rgba(0, 0, 0, .06);\n    margin-bottom: 20px;\n    padding: 10px;\n} \n.order>*{\n    padding-right: 20px;\n}\n.order .wrap{\n    padding-bottom: 10px;\n    border-bottom: 1px solid rgba(0, 0, 0, .06);\n}\n.order .right{\n    padding: 10px  0;\n}\n.info {\npadding-left: 10%;    \n}\n.order .pay >*,\n.order .info >*{\n    padding: 4px 0;\n}\n\n</style>\n","<template>\n    <div>\n        <div class=\"mask\" v-if=\"show_detail_mask\">\n            <div class=\"wrap-detail\">\n                <div class=\"close right\" @click=\"show_detail_mask = false\">\n                </div>\n                <div>\n                    <table>\n                        <thead>\n                            <th>序号</th>\n                            <th>商品名称</th>\n                            <th>单价</th>\n                            <th>数量</th>\n                            <th>小计</th>\n                        </thead>\n                        <tbody>\n                            <tr v-for=\"(item,index) in product_info\" :key=\"index\">\n                                <td>{{item.$product?item.$product.id:item.id}}</td>\n                                <td>{{item.$product?item.$product.name:item.name}}</td>\n                                <td>{{item.$product?item.$product.price:item.price}}</td>\n                                <td>{{item.count||'-'}}</td>\n                                <td>{{item.$product?item.$product.price:item.price * item.count }}</td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n        <Nav :pushDown=\"true\"/>\n        <div class=\"container\">\n            <div class=\"col-lg-3\">\n                <SideNav/>\n            </div>\n            <div class=\"col-lg-9\">\n                <div class=\"header\">\n                    <div :class=\"'col-lg-2 '+ 'item '  + (onselect == 'i1'?'active':'')\" @click=\"onselect = 'i1';read()\">全部订单</div>\n                    <div :class=\"'col-lg-2 '+ 'item '+ (onselect == 'i2'?'active':'')\" @click=\"onselect = 'i2';read('_paid',false)\">待支付</div>\n                    <div :class=\"'col-lg-2 '+ 'item '+ (onselect == 'i3'?'active':'')\" @click=\"onselect = 'i3';read('wait_delivery',true)\">已发货</div>\n                    <div :class=\"'col-lg-2 '+ 'item '+ (onselect == 'i4'?'active':'')\" @click=\"onselect = 'i4';read('wait_delivery',false)\">待发货</div>\n                    <div :class=\"'col-lg-2 '+ 'item '+ (onselect == 'i5'?'active':'')\" @click=\"onselect = 'i5'\">待评价</div>\n                </div>\n                <div class=\"table\">\n                    <table v-if=\"list\">\n                        <thead v-if=\"onselect == 'i1' ||onselect == 'i2'\" >\n                            <th v-for=\"(head,index) in thead.i1\" :key=\"index\">{{head}}</th>\n                        </thead>\n                        <thead v-if=\"onselect == 'i3'||onselect == 'i4'\">\n                            <th v-for=\"(head,index) in thead.i2\" :key=\"index\">{{head}}</th>\n                        </thead>\n                        <thead>\n\n                        </thead>\n                        <tbody>\n                            <tr v-for=\"(row,index) in list\" :key=\"index\">\n                                <td>{{row.oid||'-'}}</td>\n                                <td>{{row.sum||'-'}}</td>\n                                <td><span @click=\"show_detail(row.product_info)\" class=\"check\">查看</span></td>\n                                <td>{{row.pay_by||'-'}}</td>\n                                <td>\n                                    <div v-if=\"row._paid\">\n                                        {{row._paid?'是':'否'}}\n                                    </div>\n                                    <div v-if=\"row.wait_delivery\">{{row.wait_delivery?'是':'否'}}</div>\n                                </td>\n                                <td>{{row.memo||'-'}}</td>\n                                <td>\n                                    <div v-if=\"!row._paid\">\n                                        <router-link :to=\"`/pay/${row.oid}`\" class=\"btn\">付款</router-link>\n                                    </div>\n                                    <div v-else>已支付</div>\n                                </td>\n                                <td>\n                                    <span @click=\"cancel(row.id)\" class=\"btn\">删除订单</span>\n                                    <!-- <div v-if=\"!row._paid\">\n                                        <router-link :to=\"`/pay/${row.oid}`\" class=\"btn\">付款</router-link>\n                                    </div>\n                                    <div v-else>订单完成</div> -->\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                    <div v-else class=\"col-lg-12 empty-area\">\n                        <div class=\"empty-img\"></div>\n                        <!-- <img src=\"../../assets/empty-shopcar.png\" alt=\"\"> -->\n                        <p class=\"em-desc\">暂无内容</p>\n                    </div>\n                </div>\n                \n            </div>\n        </div>\n        <div class=\"container\">\n            <Footer/>\n        </div>\n    </div>\n</template>\n<script>\n    import session from '../../lib/session';\n    import api  from '../../lib/api';\n    import Nav from '../../components/Nav';\n    import Footer from '../../components/Footer';\n    import SideNav from '../../components/SideNav';\n\n    export default{\n        components:{Nav,SideNav,Footer},\n        data(){\n            return{\n                thead:{\n                    i1:['订单号','总价','订单信息','付款方式','已付款','备注','订单状态','操作'],\n                    i2:['订单号','总价','订单信息','付款方式','发货状态','备注','订单状态','操作'],\n                },\n                show_detail_mask:false,\n                product_info:{},\n                uinfo:session.uinfo(),\n                list:{},\n                onselect:'i1',\n                with:[\n                    {model:'user',relation:'has_one'},\n                ]\n            }\n        },\n        mounted() {\n            this.read();\n        },\n        methods:{\n            show_detail(row){\n                this.product_info = [row];\n                this.show_detail_mask = true;\n            },\n            read(key,value){\n                this.list = {};\n                api('order/search',{\n                    where:{\n                        user_id:this.uinfo.id,\n                        [key]:value,\n                    },\n                    with:this.with,\n                }).then(r=>{\n                    this.list = r.data;\n                })\n            },\n            cancel(id){\n                api('order/delete',{id})\n                    .then(r=>{\n                        this.read();\n                    })\n            }\n        },\n    }\n</script>\n<style scoped>\n.btn{\n    padding: 5px;\n    border: 1px solid rgba(0, 0, 0, .1);\n    color: #000;\n    cursor: pointer;\n    margin: 0 2px;\n}\n.mask {\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, .1);\n}\n.wrap-detail {\n    position: absolute;\n    top: 15%;\n    left: 22%;\n    width: 700px;\n    height: 250px;\n    background: #f8f8f6;\n    padding: 20px;\n}\n.check {\n   cursor:pointer;\n}\n.header {\n    margin-bottom: 15px;\n}\n.header .item{\n    font-size: 1.3rem;\n    border-bottom: 2px solid rgba(0, 0, 0, .1);\n    padding: 13px 1px;\n    text-align: center;\n}\n.header .item:hover{\n    color: #F9726C;\n}\n.header .item.active{\n    border-color: #F9726C; \n    color: #F9726C   \n}\n.empty-area {\n    width: 620px;\n    height: 480px;\n    text-align: center;\n}\n    \n.em-desc {\n    color: #ccc;\n}\n.empty-img {\n    background-image: url(../../assets/empty-shopcar.png);\n    background-repeat: no-repeat;\n    background-position: center;\n    height: 100px;\n}\n</style>\n","<template>\n    <div :style=\"{width:width}\" class=\"nav-side\">\n        <router-link class=\"nav-item\" to=\"/admin/user\">用户管理</router-link>\n        <router-link class=\"nav-item\" to=\"/admin/breed\">葡萄品种管理</router-link>\n        <router-link class=\"nav-item\" to=\"/admin/occasion\">场合管理</router-link>\n        <router-link class=\"nav-item\" to=\"/admin/location\">产地管理</router-link>\n        <router-link class=\"nav-item\" to=\"/admin/material\">酒具材质管理</router-link>\n        <router-link class=\"nav-item\" to=\"/admin/order\">订单管理</router-link>\n        <router-link class=\"nav-item\" to=\"/admin/ptype\">产品类型管理</router-link>\n        <router-link class=\"nav-item\" to=\"/admin/product\">产品管理</router-link>\n        <router-link class=\"nav-item\" to=\"/admin/category\">分类管理</router-link>\n        <router-link class=\"nav-item\" to=\"/admin/cart\">购物车管理</router-link>\n    </div>\n</template>\n\n<script>\n    import \"../css/sidenav.css\";\n    export default {\n       props:{\n            width:[ 'width' ],\n       } \n    }\n</script>\n\n<style scoped>\n    .router-link-active {\n        background: #F9726C;\n        color: #fff;\n        box-shadow: 3px 3px 5px rgba(0, 0, 0, .05)\n    }\n\n</style>\n","<template>\n    <div @mouseleave=\"show_menu = false\" class=\"dropdown\" :style=\"{width:Width + 'px'}\">\n        <input  v-if=\"showInput\" type=\"search\"\n          @keyup=\"show_menu=true\"\n          @focus=\"show_menu=true\"\n          v-model=\"keyword\"\n          placeholder=\"请搜索\"\n        >\n        <div @mouseenter=\"show_menu=true\" class=\"drop-area\">\n          <div v-if=\"showItemTitle\"   class=\"drop-title\">{{selected?selected[displayKey]:itemTitle?itemTitle:'请选择'}}</div>\n          <div v-if=\"result.length&& show_menu\" class=\"drop-item\">\n              <div @click=\"select(row)\" v-for=\"(row,index) in  result\" :key='index'>{{row[displayKey]}}</div>\n          </div>\n        </div>\n    </div>\n</template>\n<script>\nimport api from \"../lib/api\";\nexport default {\n  props: {\n    Width:'',\n    showItemTitle:{default:false}, //是否显示下拉框标题\n    itemTitle: {}, //下拉选项框默认标题名字\n    showInput: {   //是否显示搜索框\n      default:false,\n    },\n    api: {},       //指定搜索api参数，model名，字段等\n    list: {        //指定显示选项的数据\n      default() {\n        return [];\n      }\n    },\n    default: {},\n    onSelect: {},  //点击选项时候，父级提供的回调\n    primaryKey: {   //\n      default: \"id\"\n    },\n    displayKey: {\n      default: \"name\"\n    }\n  },\n  data() {\n    return {\n      api_conf: {},\n      result: [],\n      selected: \"\",\n      show_menu: false,\n      keyword: \"\",\n      timer: null\n    };\n  },\n  methods: {\n    test() {\n      console.log(\"11\");\n    },\n    //处理传入的api值，eg:'[model].[prop,prop]'\n    parse_api() {\n      let api_prop = this.api;\n      if (typeof api_prop != \"string\") return Object.assign({}, api);\n      api_prop = api_prop.split(\".\");\n      let model = api_prop[0];\n      let property = api_prop[1];\n\n      property = property.split(\",\");\n\n      return {\n        model,\n        property\n      };\n    },\n    //触发product模块\b编辑事件时调用\n    on_edit_product(row) {\n      if (!row || row == null || row == undefined) {\n        this.selected = {};\n        this.keyword = '';\n      }else{\n        this.keyword = row[this.displayKey];\n        this.selected = row;\n      }\n    },\n    //触发vehicle模块\b编辑事件时调用\n    on_edit_vehicle(row) {\n      if (!row) this.selected = {};\n      this.selected = row;\n    },\n    //触发report模块\b编辑事件时调用\n    on_edit_report(row){\n      if(!row) this.selected = {};\n      this.selected = row;\n    },\n    set_default() {\n      //点击编辑事件，选择一个默认的选项\n      //不交互传参\n      let key = this.default;\n      if (key) {\n        let def = this.list.find(row => {\n          return row[this.primaryKey] == key;\n        });\n        this.select(def);\n      }\n    },\n    // 点击选项时触发的函数\n    select(row) {\n      this.selected = row;\n\n      if(this.showInput)\n        this.keyword = row[this.displayKey];\n      \n      if (this.onSelect)\n        this.onSelect(row);\n    },\n    filter() {\n      this.result = Object.assign([], this.list);\n      this.result = this.result.filter(row => {\n        return row[this.displayKey].indexOf(this.keyword) !== -1;\n      });\n    },\n    search() {\n      let condition = {};\n\n      let property = this.api_conf.property;\n\n      if (!property) return;\n\n      property.forEach(prop => {\n        condition[prop] = this.keyword;\n      });\n\n      clearTimeout(this.timer); //清除计时器\n\n      this.timer = setTimeout(() => {\n        api(`${this.api_conf.model}/search`, { or: condition }).then(r => {\n          this.result = r.data;\n                    \n        });\n      }, 300);\n    }\n  },\n  mounted() {\n    // this.set_default();\n    this.api_conf = this.parse_api();\n\n    let list = this.list;\n\n    list && (this.result = this.list); //为什么要用result引用list\n    console.log('this.result',this.result);\n    \n  },\n  watch: {\n    keyword() {\n      if (this.api) this.search();\n      else this.filter();\n    },\n    default: {\n      deep: true,\n      handler() {\n        this.set_default();\n      }\n    },\n    list(n) {\n      this.list = n;\n      this.result = this.list;\n      console.log('this.result111',this.result);\n      \n    },\n    change_item_title() {\n      if (!itemTitle) {\n        return itemTitle;\n      } else if (selected) {\n        return selected[displayKey];\n      } else {\n        return \"请选择\";\n      }\n    }\n  }\n};\n</script>\n<style>\n.drop-area,\n.dropdown input,\n.drop-title,\n.drop-item {\n  width: 100%;\n}\n.drop-area {\n  z-index: 20;\n  position: absolute;\n  opacity: .9;\n}\n.dropdown {\n  position: relative;\n  /* display: inline-block; */\n  padding: 10px 0;\n}\n.dropdown input {\n  padding: 3px 5px;\n  display: inline-block;\n}\n.drop-title,\n.drop-item {\n  background: #fff;\n  padding: 2px;\n  display: block;\n  font-size: 1rem;\n  border: 1px solid #d9e1e5;\n}\n.dropdown:hover .drop-title {\n  border-bottom: 0;\n}\n.dropdown:hover .drop-item,\n.dropdown:hover .drop-title {\n  border-color: #0b5a81;\n}\n\n.drop-item > *:hover {\n  background: #0b5a81;\n  color: #fff;\n}\n\n.drop-item {\n  position: absolute;\n  z-index: 10;\n}\n</style>\n","<script>\nimport Nav from \"../components/Nav\";\nimport Pagination from \"../components/Pagination\";\nimport AdminNav from \"../components/AdminNav\";\nimport api from \"../lib/api\";\n// import SearchBar from \"../components/SearchBar\";\nimport DropDown from \"../components/DropDown\";\n// import Location from \"../components/Location\";\n\nexport default {\n  components: { Nav, AdminNav, Pagination ,DropDown },\n  data() {\n    return {\n      total: 0, //共计多少条数据\n      last_page: 0, //最后一页，默认0\n      current_page: 1, //当前页码\n      limit: 15,\n      show_form: false,\n      current: {\n        preview: [],\n        new:false,\n      },\n      list: [],\n      edit_mode: false,\n      keyword: \"\",\n      model: null\n    };\n  },\n  methods: {\n    read_by_model(model){\n      api(`${model}/read`)\n        .then(r=>{\n            this[model] = r.data;\n        })\n     },\n    on_page_change(page) {\n      this.read(page);\n    },\n    read(page = 1) {\n      // if (page == this.current_page && page != 1) return; //点击当前页，不操作。如果当前页是1，则会请求，主要是首次加载就是第一页，不能将第一页情况卡死\n\n      api(`${this.model}/read`, {\n        limit: this.limit,\n        page: page,\n        sort_by: [\"id\", \"down\"],\n        with: this.with,\n      }).then(r => {\n        this.list = r.data;\n        this.total = r.total;\n        this.last_page = r.last_page;\n        this.current_page = r.current_page;\n      });\n    },\n    cou(e) {\n      e.preventDefault();\n      let action = this.current.id ? \"update\" : \"create\";\n      api(`${this.model}/${action}`, this.current).then(r => {\n        this.read(this.current_page);\n        this.current = {};\n      });\n    },\n    remove(id) {\n      api(`${this.model}/delete`, { id }).then(r => {\n        this.read();\n      });\n    },\n    update(row) {\n      this.current = row;\n      this.show_form = true;\n\n      this.$nextTick(() => {\n        if(this.model == 'product'){\n          this.edit_product(row)          \n        }\n        else if(this.model == 'model'){\n          this.edit_model(row);\n        }else if(this.model == 'report'){\n          this.edit_report(row);\n        }\n      });\n    },\n    edit_product(row) {\n      this.$refs.edit_product_breed.on_edit_product(row.$breed);\n      this.$refs.edit_product_location.on_edit_product(row.$location);\n      this.$refs.edit_product_occasion.on_edit_product(row.$occasion);\n      this.$refs.edit_product_ptype.on_edit_product(row.$ptype);\n    },\n    edit_vehicle(row) {\n      this.$refs.edit_vehicle_brand.on_edit_vehicle(row.$brand);\n      this.$refs.edit_vehicle_model.on_edit_vehicle(row.$model);\n      this.$refs.edit_vehicle_design.on_edit_vehicle(row.$design);\n    },\n    edit_report(row){\n      this.$refs.edit_report.on_edit_report(row.$vehicle);\n    },\n    cancel() {\n      this.current = {preview:[]};\n      this.show_form = false;\n    },\n    search(keyword) {\n      let param = {\n        or: {}\n      };\n\n      this.searchable.forEach(prop => {\n        param.or[prop] = keyword;\n      });\n      // console.log('this.searchable',this.searchable);\n      // console.log('param',param);\n\n      api(`${this.model}/search`, param).then(r => {\n        this.list = r.data;\n        this.total = r.total;\n      });\n    }\n  },\n  mounted() {\n    if (!this.model) throw new Error(\"请在模型中配置model！\");\n    this.read();\n  }\n};\n</script>\n<style scoped>\n.input-control button,\nbutton:hover {\n  background: #0b5a81;\n  color: #fff;\n}\n.input-control button {\n  margin: 0px 10px;\n}\n</style>\n","<template>\n    <div>\n        <Nav :pushDown=\"true\"/>\n        <div>\n            <div class=\"container\">\n                <div class=\"col-lg-3\">\n                    <AdminNav/>\n                </div>\n                <div class=\"col-lg-9\">\n                    <div class=\"wrapper\">\n                        <h2>用户列表</h2>\n                        <!-- <SearchBar :model=\"model\" :isSearch=\"false\" :onSubmit=\"search\" :searchable=\"searchable\"/> -->\n                        <div class=\"tool-bar\">\n                            <button @click=\"show_form= !show_form\"><span v-if=\"show_form\">收起</span><span v-else>创建用户</span></button>\n                        </div>\n                        <form v-if=\"show_form\" @submit=\"cou($event)\">\n                            <div class=\"input-control\">\n                                <label>用户名</label>\n                                <input type=\"text\" v-model=\"current.username\">\n                            </div>\n                            <div class=\"input-control\">\n                                <label>密码</label>\n                                <input type=\"password\" v-model=\"current.password\">\n                            </div>\n                            <div class=\"input-control\">\n                                <label>邮箱</label>\n                                <input type=\"text\" v-model=\"current.email\">\n                            </div>\n                            <div class=\"input-control\">\n                                <label>电话</label>\n                                <input type=\"text\" v-model=\"current.phone\">\n                            </div>\n                            <div class=\"input-control\">\n                                <label>地址</label>\n                                <input type=\"text\" v-model=\"current.location\">\n                            </div>\n                            <div class=\"input-control\">\n                                <button class=\"btn-primary\" type=\"submit\">提交</button>\n                                <button @click=\"cancel()\" class=\"btn-primary\" type=\"button\">取消</button>\n                            </div>\n                        </form>\n                        <div class=\"table\">\n                            <table>\n                                <thead>\n                                    <th>用户名</th>\n                                    <th>密码</th>\n                                    <th>邮箱</th>\n                                    <th>电话</th>\n                                    <th>地址</th>\n                                    <th>操作</th>\n                                </thead>\n                                <tbody>\n                                    <tr v-for=\"(row,index) in list\" :key=\"index\">\n                                    <td>{{row.username}}</td>\n                                    <td>{{row.password}}</td>\n                                    <td>{{row.email}}</td>\n                                    <td>{{row.phone}}</td>\n                                    <td>{{row.location}}</td>\n                                    <td>\n                                        <button @click=\"update(row)\">编辑</button>\n                                        <button @click=\"remove(row.id)\">删除</button>\n                                    </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                        <pagination :limit=\"limit\" :totalCount=\"total\" :onChange=\"on_page_change\"/>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport AdminPage from '../../mixin/AdminPage';\n\nexport default {\n  created() {\n    this.model = \"user\";\n  },\n  data() {\n    return {\n        searchable:['username']\n    };\n  },\n  mixins:[AdminPage],\n};\n</script>\n<style scoped>\n.input-control {\n    display: block;\n    margin: 15px 0;\n}\n.input-control button,\nbutton:hover {\n  background: #0b5a81;\n  color: #fff;\n}\n.input-control button {\n  margin: 0px 10px;\n}\n</style>\n","<template>\n    <div>\n        <Nav :pushDown=\"true\"/>\n        <div>\n            <div class=\"container\">\n                <div class=\"col-lg-3\">\n                    <AdminNav/>\n                </div>\n                <div class=\"col-lg-9\">\n                    <div class=\"wrapper\">\n                        <h2>葡萄品种管理</h2>\n                        <!-- <SearchBar :model=\"model\"  :isSearch=\"false\" :onSubmit=\"search\" :searchable=\"searchable\"/> -->\n                        <div class=\"tool-bar\">\n                            <button @click=\"show_form= !show_form\"><span v-if=\"show_form\">收起</span><span v-else>创建品种</span></button>\n                        </div>\n                        <form v-if=\"show_form\" @submit=\"cou($event)\">\n                            <div class=\"input-control\">\n                                <label>品种名</label>\n                                <input type=\"text\" v-model=\"current.name\">\n                            </div>\n                            <div class=\"input-control\">\n                                <button class=\"btn-primary\" type=\"submit\">提交</button>\n                                <button @click=\"cancel()\" class=\"btn-primary\" type=\"button\">取消</button>\n                            </div>\n                        </form>\n                        <div class=\"table\">\n                            <table>\n                                <thead>\n                                    <th>品种号</th>\n                                    <th>品种</th>\n                                    <th>操作</th>\n                                </thead>\n                                <tbody>\n                                    <tr v-for=\"(row,index) in list\" :key=\"index\">\n                                    <td>{{row.id}}</td>\n                                    <td>{{row.name}}</td>\n                                    <td>\n                                        <button @click=\"update(row)\">编辑</button>\n                                        <button @click=\"remove(row.id)\">删除</button>\n                                    </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                        <pagination :limit=\"limit\" :totalCount=\"total\" :onChange=\"on_page_change\"/>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport AdminPage from '../../mixin/AdminPage';\n\nexport default {\n  created() {\n    this.model = \"breed\";\n  },\n  data() {\n    return {\n        searchable:['name'],\n    };\n  },\n  methods:{\n     \n  },\n  mixins:[AdminPage],\n};\n</script>\n<style scoped>\n.input-control {\n    display: block;\n    margin: 15px 0;\n}\n.input-control button,\nbutton:hover {\n  background: #0b5a81;\n  color: #fff;\n}\n.input-control button {\n  margin: 0px 10px;\n}\n</style>\n","<template>\n    <div>\n        <Nav :pushDown=\"true\"/>\n        <div>\n            <div class=\"container\">\n                <div class=\"col-lg-3\">\n                    <AdminNav/>\n                </div>\n                <div class=\"col-lg-9\">\n                    <div class=\"wrapper\">\n                        <h2>葡萄产区管理</h2>\n                        <!-- <SearchBar :model=\"model\" :isSearch=\"false\" :onSubmit=\"search\" :searchable=\"searchable\"/> -->\n                        <div class=\"tool-bar\">\n                            <button @click=\"show_form= !show_form\"><span v-if=\"show_form\">收起</span><span v-else>创建葡萄产区</span></button>\n                        </div>\n                        <form v-if=\"show_form\" @submit=\"cou($event)\">\n                            <div class=\"input-control\">\n                                <label>葡萄产区名</label>\n                                <input type=\"text\" v-model=\"current.name\">\n                            </div>\n                            <div class=\"input-control\">\n                                <button class=\"btn-primary\" type=\"submit\">提交</button>\n                                <button @click=\"cancel()\" class=\"btn-primary\" type=\"button\">取消</button>\n                            </div>\n                        </form>\n                        <div class=\"table\">\n                            <table>\n                                <thead>\n                                    <th>序号</th>\n                                    <th>葡萄产区</th>\n                                    <th>操作</th>\n                                </thead>\n                                <tbody>\n                                    <tr v-for=\"(row,index) in list\" :key=\"index\">\n                                    <td>{{row.id}}</td>\n                                    <td>{{row.name}}</td>\n                                    <td>\n                                        <button @click=\"update(row)\">编辑</button>\n                                        <button @click=\"remove(row.id)\">删除</button>\n                                    </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                        <pagination :limit=\"limit\" :totalCount=\"total\" :onChange=\"on_page_change\"/>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport AdminPage from '../../mixin/AdminPage';\n\nexport default {\n  created() {\n    this.model = \"location\";\n  },\n  data() {\n    return {\n        searchable:['name'],\n    };\n  },\n  methods:{\n     \n  },\n  mixins:[AdminPage],\n};\n</script>\n<style scoped>\n.input-control {\n    display: block;\n    margin: 15px 0;\n}\n.input-control button,\nbutton:hover {\n  background: #0b5a81;\n  color: #fff;\n}\n.input-control button {\n  margin: 0px 10px;\n}\n</style>\n","<template>\n    <div>\n        <Nav :pushDown=\"true\"/>\n        <div>\n            <div class=\"container\">\n                <div class=\"col-lg-3\">\n                    <AdminNav/>\n                </div>\n                <div class=\"col-lg-9\">\n                    <div class=\"wrapper\">\n                        <h2>酒具材质管理</h2>\n                        <!-- <SearchBar :model=\"model\" :isSearch=\"false\" :onSubmit=\"search\" :searchable=\"searchable\"/> -->\n                        <div class=\"tool-bar\">\n                            <button @click=\"show_form= !show_form\"><span v-if=\"show_form\">收起</span><span v-else>创建材质</span></button>\n                        </div>\n                        <form v-if=\"show_form\" @submit=\"cou($event)\">\n                            <div class=\"input-control\">\n                                <label>材质名</label>\n                                <input type=\"text\" v-model=\"current.name\">\n                            </div>\n                            <div class=\"input-control\">\n                                <button class=\"btn-primary\" type=\"submit\">提交</button>\n                                <button @click=\"cancel()\" class=\"btn-primary\" type=\"button\">取消</button>\n                            </div>\n                        </form>\n                        <div class=\"table\">\n                            <table>\n                                <thead>\n                                    <th>序号</th>\n                                    <th>材质</th>\n                                    <th>操作</th>\n                                </thead>\n                                <tbody>\n                                    <tr v-for=\"(row,index) in list\" :key=\"index\">\n                                    <td>{{row.id}}</td>\n                                    <td>{{row.name}}</td>\n                                    <td>\n                                        <button @click=\"update(row)\">编辑</button>\n                                        <button @click=\"remove(row.id)\">删除</button>\n                                    </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                        <pagination :limit=\"limit\" :totalCount=\"total\" :onChange=\"on_page_change\"/>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport AdminPage from '../../mixin/AdminPage';\n\nexport default {\n  created() {\n    this.model = \"material\";\n  },\n  data() {\n    return {\n        searchable:['name'],\n    };\n  },\n  methods:{\n     \n  },\n  mixins:[AdminPage],\n};\n</script>\n<style scoped>\n.input-control {\n    display: block;\n    margin: 15px 0;\n}\n.input-control button,\nbutton:hover {\n  background: #0b5a81;\n  color: #fff;\n}\n.input-control button {\n  margin: 0px 10px;\n}\n</style>\n","<template>\n    <div>\n        <div class=\"mask\" v-if=\"show_detail_mask\">\n            <div class=\"wrap-detail\">\n                <div class=\"close right\" @click=\"show_detail_mask = false\">\n                </div>\n                <div>\n                    <table>\n                        <thead>\n                            <th>序号</th>\n                            <th>商品名称</th>\n                            <th>单价</th>\n                            <th>数量</th>\n                            <th>小计</th>\n                        </thead>\n                        <tbody>\n                            <tr v-for=\"(item,index) in product_info\" :key=\"index\">\n                                <td>{{item.$product?item.$product.id:item.id}}</td>\n                                <td>{{item.$product?item.$product.name:item.name}}</td>\n                                <td>{{item.$product?item.$product.price:item.price}}</td>\n                                <td>{{item.count||'-'}}</td>\n                                <td>{{item.$product?item.$product.price:item.price * item.count }}</td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n        <Nav :pushDown=\"true\"/>\n        <div>\n            <div class=\"container\">\n                <div class=\"col-lg-3\">\n                    <AdminNav/>\n                </div>\n                <div class=\"col-lg-9\">\n                    <div class=\"wrapper\">\n                        <h2>订单管理</h2>\n                        <!-- <SearchBar :model=\"model\" :isSearch=\"false\" :onSubmit=\"search\" :searchable=\"searchable\"/> -->\n                        <div class=\"tool-bar\">\n                            <button @click=\"show_form= !show_form\"><span v-if=\"show_form\">收起</span><span v-else>创建订单</span></button>\n                        </div>\n                        <form v-if=\"show_form\" @submit=\"cou($event)\">\n                            <div class=\"input-control\">\n                                <label>订单号</label>\n                                <input type=\"text\" v-model=\"current.oid\">\n                            </div>\n                             <div class=\"input-control\">\n                                <label>数量</label>\n                                <input type=\"text\" v-model=\"current.sum\">\n                            </div>\n                             <div class=\"input-control\">\n                                <label>订单信息</label>\n                                <input type=\"text\" v-model=\"current.product_info\">\n                            </div>\n                             <div class=\"input-control\">\n                                <label>支付方式</label>\n                                <input type=\"text\" v-model=\"current.pay_by\">\n                            </div>\n                             <div class=\"input-control\">\n                                <label>备注</label>\n                                <input type=\"text\" v-model=\"current.memo\">\n                            </div>\n                             <div class=\"input-control\">\n                                <label>用户</label>\n                                <DropDown\n                                    :Width=\"'200'\"\n                                    :showInput=\"true\"\n                                    :list=\"user\"\n                                    :onSelect=\"set_user_id\"\n                                    :displayKey=\"'username'\"\n                                />\n                                <!-- <input type=\"text\" v-model=\"current.user_id\"> -->\n                            </div>\n                            <div class=\"input-control\">\n                                <button class=\"btn-primary\" type=\"submit\">提交</button>\n                                <button @click=\"cancel()\" class=\"btn-primary\" type=\"button\">取消</button>\n                            </div>\n                        </form>\n                        <div class=\"table\">\n                            <table>\n                                <thead>\n                                    <th>序号</th>\n                                    <th>订单号</th>\n                                    <th>数量</th>\n                                    <th>订单信息</th>\n                                    <th>支付方式</th>\n                                    <th>支付状态</th>\n                                    <th>发货状态</th>\n                                    <th>备注</th>\n                                    <th>用户</th>\n                                    <th>操作</th>\n                                </thead>\n                                <tbody>\n                                    <tr v-for=\"(row,index) in list\" :key=\"index\">\n                                    <td>{{row.id||'-'}}</td>\n                                    <td>{{row.oid||'-'}}</td>\n                                    <td>{{row.sum||'-'}}</td>\n                                    <td class=\"check\" @click=\"show_detail(row.product_info)\">查看</td>\n                                    <td>{{row.pay_by||'-'}}</td>\n                                    <td>{{row._paid?'已完成':'未完成'}}</td>\n                                    <td>{{row.wait_delivery?'已完成':'未完成'}}</td>\n                                    <td>{{row.memo||'-'}}</td>\n                                    <td>{{row.$user?row.$user.username:'-'}}</td>\n                                    <td>\n                                        <button @click=\"update(row)\">编辑</button>\n                                        <button @click=\"remove(row.id)\">删除</button>\n                                    </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                        <pagination :limit=\"limit\" :totalCount=\"total\" :onChange=\"on_page_change\"/>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport AdminPage from '../../mixin/AdminPage';\n\nexport default {\n  created() {\n    this.model = \"order\";\n  },\n  data() {\n    return {\n        searchable:['name'],\n        with:[\n            {model:'user',relation:'has_one'},\n        ],\n        user:{},\n        show_detail_mask:false,\n    };\n  },\n  mounted() {\n      this.read_by_model('user');\n  },\n  methods:{\n       set_user_id(row){\n         this.$set(this.current,'user_id',row.id);\n        },\n       show_detail(row){\n            this.product_info = [row];\n            this.show_detail_mask = true;\n        },\n  },\n  mixins:[AdminPage],\n};\n</script>\n<style scoped>\n.input-control {\n    display: block;\n    margin: 15px 0;\n}\n.input-control button,\nbutton:hover {\n  background: #0b5a81;\n  color: #fff;\n}\n.input-control button {\n  margin: 0px 10px;\n}\n.mask {\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, .1);\n}\n.wrap-detail {\n    position: absolute;\n    top: 15%;\n    left: 22%;\n    width: 700px;\n    height: 250px;\n    background: #f8f8f6;\n    padding: 20px;\n}\n.check{\n    cursor:pointer;\n}\n</style>\n","<template>\n    <div>\n        <Nav :pushDown=\"true\"/>\n        <div>\n            <div class=\"container\">\n                <div class=\"col-lg-3\">\n                    <AdminNav/>\n                </div>\n                <div class=\"col-lg-9\">\n                    <div class=\"wrapper\">\n                        <h2>产品类型管理</h2>\n                        <!-- <SearchBar :model=\"model\" :isSearch=\"false\" :onSubmit=\"search\" :searchable=\"searchable\"/> -->\n                        <div class=\"tool-bar\">\n                            <button @click=\"show_form= !show_form\"><span v-if=\"show_form\">收起</span><span v-else>创建产品类型</span></button>\n                        </div>\n                        <form v-if=\"show_form\" @submit=\"cou($event)\">\n                            <div class=\"input-control\">\n                                <label>产品类型名</label>\n                                <input type=\"text\" v-model=\"current.name\">\n                            </div>\n                            <div class=\"input-control\">\n                                <button class=\"btn-primary\" type=\"submit\">提交</button>\n                                <button @click=\"cancel()\" class=\"btn-primary\" type=\"button\">取消</button>\n                            </div>\n                        </form>\n                        <div class=\"table\">\n                            <table>\n                                <thead>\n                                    <th>序号</th>\n                                    <th>产品类型</th>\n                                    <th>操作</th>\n                                </thead>\n                                <tbody>\n                                    <tr v-for=\"(row,index) in list\" :key=\"index\">\n                                    <td>{{row.id}}</td>\n                                    <td>{{row.name}}</td>\n                                    <td>\n                                        <button @click=\"update(row)\">编辑</button>\n                                        <button @click=\"remove(row.id)\">删除</button>\n                                    </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                        <pagination :limit=\"limit\" :totalCount=\"total\" :onChange=\"on_page_change\"/>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport AdminPage from '../../mixin/AdminPage';\n\nexport default {\n  created() {\n    this.model = \"ptype\";\n  },\n  data() {\n    return {\n        searchable:['name'],\n    };\n  },\n  methods:{\n     \n  },\n  mixins:[AdminPage],\n};\n</script>\n<style scoped>\n.input-control {\n    display: block;\n    margin: 15px 0;\n}\n.input-control button,\nbutton:hover {\n  background: #0b5a81;\n  color: #fff;\n}\n.input-control button {\n  margin: 0px 10px;\n}\n</style>\n","<template>\n    <div>\n        <Nav :pushDown=\"true\"/>\n        <div>\n            <div class=\"container\">\n                <div class=\"col-lg-3\">\n                    <AdminNav/>\n                </div>\n                <div class=\"col-lg-9\">\n                    <div class=\"wrapper\">\n                        <h2>产品管理</h2>\n                        <!-- <SearchBar :model=\"model\" :isSearch=\"false\" :onSubmit=\"search\" :searchable=\"searchable\"/> -->\n                        <div class=\"tool-bar\">\n                            <button @click=\"show_form= !show_form\"><span v-if=\"show_form\" @click=\"cancel()\">收起</span><span v-else>创建产品</span></button>\n                        </div>\n                        <form v-if=\"show_form\" @submit=\"cou($event)\">\n                            <div class=\"input-control\">\n                                <label>产品名称</label>\n                                <input type=\"text\" v-model=\"current.name\">\n                            </div>\n                            <div class=\"input-control\">\n                                <label>产品类型</label>\n                                <DropDown\n                                    :showInput=\"true\"\n                                    :Width=\"'200'\"\n                                    :list='ptype'\n                                    :onSelect=\"set_ptype_id\"\n                                    ref=\"edit_product_ptype\"\n                                />\n                            </div>\n                             <div class=\"input-control\">\n                                <label>年份</label>\n                                <input type=\"number\" v-model=\"current.year\" placeholder=\"例如：2007\">\n                            </div>\n                             <div class=\"input-control\">\n                                <label>葡萄品种</label>\n                                <!-- <div> -->\n                                    <DropDown\n                                        :showInput=\"true\"\n                                        :Width=\"'200'\"\n                                        :list='breed'\n                                        :onSelect=\"set_breed_id\"\n                                        ref=\"edit_product_breed\"\n                                    />\n                                <!-- </div> -->\n                            </div>\n                            <div class=\"input-control\">\n                                <label>地区</label>\n                                <DropDown\n                                    :showInput=\"true\"\n                                    :Width=\"'200'\"\n                                    :list='location'\n                                    :onSelect=\"set_location_id\"\n                                    ref=\"edit_product_location\"\n                                />\n                            </div>\n                            <div class=\"input-control\">\n                                <label>用酒场合</label>\n                                <DropDown\n                                    :showInput=\"true\"\n                                    :Width=\"'200'\"\n                                    :list='occasion'\n                                    :onSelect=\"set_occasion_id\"\n                                    ref=\"edit_product_occasion\"\n                                />\n                            </div>\n                             <div class=\"input-control\">\n                                <label>价格</label>\n                                <input type=\"text\" v-model=\"current.price\">\n                            </div>\n                             <div class=\"input-control\">\n                                <label>库存</label>\n                                <input type=\"text\" v-model=\"current.store\">\n                            </div>\n                             <div class=\"input-control\">\n                                <label>是否新酒</label>{{current.new}}\n                                <input type=\"checkbox\" v-model=\"current.new\">\n                            </div>\n                             <div class=\"input-control\">\n                                <label>是否明星推荐start_hot</label>{{current.start_hot}}\n                                <input type=\"checkbox\" v-model=\"current.start_hot\">\n                            </div>\n                            <div class=\"input-control\">\n                                <label>是否人气单品single_hot</label>{{current.single_hot}}\n                                <input type=\"checkbox\" v-model=\"current.single_hot\">\n                            </div>\n                            <div class=\"input-control\">\n                                <label>是否热卖酒具wineset_hot</label>{{current.wineset_hot}}\n                                <input type=\"checkbox\" v-model=\"current.wineset_hot\">\n                            </div>\n                            <div class=\"input-control\">\n                                <label>是否场合用酒occasion_hot</label>{{current.occasion_hot}}\n                                <input type=\"checkbox\" v-model=\"current.occasion_hot\">\n                            </div>\n                            <div class=\"input-control\">\n                                <label>图片地址</label>\n                                <div style=\"margin-bottom: 5px;\">\n                                    <div v-for=\"(p, i) in current.preview\" :key=\"i\" class=\"input-group\">\n                                        <input type=\"text\" placeholder=\"部位\" v-model=\"p.name\">\n                                        <input type=\"url\" placeholder=\"图片地址\" v-model=\"p.url\">\n                                        <button @click=\"current.preview.splice(i, 1)\" type=\"button\">-</button>\n                                    </div>\n                                </div>\n                                <button @click=\"current.preview.push({})\" type=\"button\">+</button>\n                            </div>\n                            <div class=\"input-control\">\n                                <button class=\"btn-primary\" type=\"submit\">提交</button>\n                                <button @click=\"cancel()\" class=\"btn-primary\" type=\"button\">取消</button>\n                            </div>\n                        </form>\n                        <div class=\"table\">\n                            <table>\n                                <thead>\n                                    <th>序号</th>\n                                    <th>图片</th>\n                                    <th>产品名称</th>\n                                    <th>产品类型</th>\n                                    <th>年份</th>\n                                    <th>品种</th>\n                                    <th>地区</th>\n                                    <th>价格</th>\n                                    <th>库存</th>\n                                    <th>场合</th>\n                                    <th>是否新酒</th>\n                                    <th>是否明星推荐</th>\n                                    <th>是否人气单品</th>\n                                    <th>是否热卖酒具</th>\n                                    <th>是否场合用酒</th>\n                                    <th>图片数量</th>\n                                    <th>操作</th>\n                                </thead>\n                                <tbody>\n                                    <tr v-for=\"(row,index) in list\" :key=\"index\">\n                                    <td>{{row.id||'-'}}</td>\n                                    <td><img :src=\"row.preview&&row.preview[2]&&row.preview[2].url\" alt=\"\"></td>\n                                    <td>{{row.name||'-'}}</td>\n                                    <td>{{row.$ptype?row.$ptype.name:'-'}}</td>\n                                    <td>{{row.year||'-'}}</td>\n                                    <td>{{row.$breed?row.$breed.name:'-'}}</td>\n                                    <td>{{row.$location?row.$location.name:'-'}}</td>\n                                    <td>{{row.price||'-'}}</td>\n                                    <td>{{row.store||'-'}}</td>\n                                    <td>{{row.$occasion?row.$occasion.name:'-'}}</td>\n                                    <td>{{row.new||'-'}}</td>\n                                    <td>{{row.start_hot||'-'}}</td>\n                                    <td>{{row.single_hot||'-'}}</td>\n                                    <td>{{row.wineset_hot||'-'}}</td>\n                                    <td>{{row.occasion_hot||'-'}}</td>\n                                    <td>{{row.preview.length||'-'}}</td>\n                                    <td>\n                                        <button @click=\"update(row)\">编辑</button>\n                                        <button @click=\"remove(row.id)\">删除</button>\n                                    </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                        <pagination :limit=\"limit\" :totalCount=\"total\" :onChange=\"on_page_change\"/>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport AdminPage from '../../mixin/AdminPage';\nimport api from '../../lib/api';\n\nexport default {\n  created() {\n    this.model = \"product\";\n  },\n  data() {\n    return {\n        searchable:['name'],\n        breed:{},\n        with:[\n            {model:'location',relation:\"has_one\"},\n            {model:'breed',relation:\"has_one\"},\n            {model:'occasion',relation:\"has_one\"},\n            {model:'ptype',relation:\"has_one\"},\n        ]\n\n    };\n  },\n  mounted() {\n      this.read_by_model('breed');\n      this.read_by_model('location');\n      this.read_by_model('occasion');\n      this.read_by_model('ptype');\n  },\n  methods:{\n    set_breed_id(row){\n         this.$set(this.current,'breed_id',row.id);\n     },\n    set_location_id(row){\n        this.$set(this.current,'location_id',row.id);\n    },\n    set_occasion_id(row){\n        this.$set(this.current,'occasion_id',row.id);\n    },\n    set_ptype_id(row){\n        this.$set(this.current,'ptype_id',row.id);\n    },\n  },\n  mixins:[AdminPage],\n};\n</script>\n<style scoped>\n.input-control button,\nbutton:hover {\n  background: #0b5a81;\n  color: #fff;\n}\n.input-control button {\n  margin: 0px 10px;\n}\n</style>\n","<template>\n    <div>\n        <Nav :pushDown=\"true\"/>\n        <div>\n            <div class=\"container\">\n                <div class=\"col-lg-3\">\n                    <AdminNav/>\n                </div>\n                <div class=\"col-lg-9\">\n                    <div class=\"wrapper\">\n                        <h2>葡萄酒场合管理</h2>\n                        <!-- <SearchBar :model=\"model\"  :isSearch=\"false\" :onSubmit=\"search\" :searchable=\"searchable\"/> -->\n                        <div class=\"tool-bar\">\n                            <button @click=\"show_form= !show_form\"><span v-if=\"show_form\">收起</span><span v-else>创建场合</span></button>\n                        </div>\n                        <form v-if=\"show_form\" @submit=\"cou($event)\">\n                            <div class=\"input-control\">\n                                <label>场合名</label>\n                                <input type=\"text\" v-model=\"current.name\">\n                            </div>\n                            <div class=\"input-control\">\n                                <button class=\"btn-primary\" type=\"submit\">提交</button>\n                                <button @click=\"cancel()\" class=\"btn-primary\" type=\"button\">取消</button>\n                            </div>\n                        </form>\n                        <div class=\"table\">\n                            <table>\n                                <thead>\n                                    <th>场合号</th>\n                                    <th>场合</th>\n                                    <th>操作</th>\n                                </thead>\n                                <tbody>\n                                    <tr v-for=\"(row,index) in list\" :key=\"index\">\n                                    <td>{{row.id}}</td>\n                                    <td>{{row.name}}</td>\n                                    <td>\n                                        <button @click=\"update(row)\">编辑</button>\n                                        <button @click=\"remove(row.id)\">删除</button>\n                                    </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                        <pagination :limit=\"limit\" :totalCount=\"total\" :onChange=\"on_page_change\"/>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport AdminPage from '../../mixin/AdminPage';\n\nexport default {\n  created() {\n    this.model = \"occasion\";\n  },\n  data() {\n    return {\n        searchable:['name'],\n    };\n  },\n  methods:{\n     \n  },\n  mixins:[AdminPage],\n};\n</script>\n<style scoped>\n.input-control {\n    display: block;\n    margin: 15px 0;\n}\n.input-control button,\nbutton:hover {\n  background: #0b5a81;\n  color: #fff;\n}\n.input-control button {\n  margin: 0px 10px;\n}\n</style>\n","<template>\n    <div>\n        <Nav :pushDown=\"true\"/>\n        <div>\n            <div class=\"container\">\n                <div class=\"col-lg-3\">\n                    <AdminNav/>\n                </div>\n                <div class=\"col-lg-9\">\n                    <div class=\"wrapper\">\n                        <h2>分类管理</h2>\n                        <!-- <SearchBar :model=\"model\"  :isSearch=\"false\" :onSubmit=\"search\" :searchable=\"searchable\"/> -->\n                        <div class=\"tool-bar\">\n                            <button @click=\"show_form= !show_form\"><span v-if=\"show_form\">收起</span><span v-else>创建分类</span></button>\n                        </div>\n                        <form v-if=\"show_form\" @submit=\"cou($event)\">\n                            <div class=\"input-control\">\n                                <label>分类名</label>\n                                <input type=\"text\" v-model=\"current.name\">\n                            </div>\n                            <div class=\"input-control\">\n                                <label>是否首页促销</label>\n                                <input type=\"checkbox\" v-model=\"current.promoting\">\n                            </div>\n                            <div class=\"input-control\">\n                                <label>促销url</label>\n                                <input type=\"text\" v-model=\"current.cover_url\">\n                            </div>\n                            <div class=\"input-control\">\n                                <button class=\"btn-primary\" type=\"submit\">提交</button>\n                                <button @click=\"cancel()\" class=\"btn-primary\" type=\"button\">取消</button>\n                            </div>\n                        </form>\n                        <div class=\"table\">\n                            <table>\n                                <thead>\n                                    <th>分类号</th>\n                                    <th>分类名</th>\n                                    <th>是否首页推广</th>\n                                    <th>推广url</th>\n                                    <th>操作</th>\n                                </thead>\n                                <tbody>\n                                    <tr v-for=\"(row,index) in list\" :key=\"index\">\n                                    <td>{{row.id||'-'}}</td>\n                                    <td>{{row.name||'-'}}</td>\n                                    <td>{{row.promoting||'-'}}</td>\n                                    <td>{{row.cover_url||'-'}}</td>\n                                    <td>\n                                        <button @click=\"update(row)\">编辑</button>\n                                        <button @click=\"remove(row.id)\">删除</button>\n                                    </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                        <pagination :limit=\"limit\" :totalCount=\"total\" :onChange=\"on_page_change\"/>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport AdminPage from '../../mixin/AdminPage';\n\nexport default {\n  created() {\n    this.model = \"category\";\n  },\n  data() {\n    return {\n        searchable:['name'],\n    };\n  },\n  methods:{\n     \n  },\n  mixins:[AdminPage],\n};\n</script>\n<style scoped>\n.input-control {\n    display: block;\n    margin: 15px 0;\n}\n.input-control button,\nbutton:hover {\n  background: #0b5a81;\n  color: #fff;\n}\n.input-control button {\n  margin: 0px 10px;\n}\n</style>\n","<template>\n    <div>\n        <Nav :pushDown=\"true\"/>\n        <div>\n            <div class=\"container\">\n                <div class=\"col-lg-3\">\n                    <AdminNav/>\n                </div>\n                <div class=\"col-lg-9\">\n                    <div class=\"wrapper\">\n                        <h2>购物车管理</h2>\n                        <!-- <SearchBar :model=\"model\"  :isSearch=\"false\" :onSubmit=\"search\" :searchable=\"searchable\"/> -->\n                        <div class=\"tool-bar\">\n                            <button @click=\"show_form= !show_form\"><span v-if=\"show_form\">收起</span><span v-else>创建购物车</span></button>\n                        </div>\n                        <form v-if=\"show_form\" @submit=\"cou($event)\">\n                            <div class=\"input-control\">\n                                <label>用户</label>\n                                <DropDown\n                                    :Width=\"'200'\"\n                                    :showInput=\"true\"\n                                    :list=\"user\"\n                                    :onSelect=\"set_user_id\"\n                                    :displayKey=\"'username'\"\n                                />\n                            </div>\n                            <div class=\"input-control\">\n                                <label>商品</label>\n                                 <DropDown\n                                    :Width=\"'200'\"\n                                    :showInput=\"true\"\n                                    :list=\"product\"\n                                    :onSelect=\"set_product_id\"\n                                />\n                            </div>\n                            <div class=\"input-control\">\n                                <label>商品数量</label>\n                                <input type=\"text\" v-model=\"current.count\">\n                            </div>\n                            <div class=\"input-control\">\n                                <button class=\"btn-primary\" type=\"submit\">提交</button>\n                                <button @click=\"cancel()\" class=\"btn-primary\" type=\"button\">取消</button>\n                            </div>\n                        </form>\n                        <div class=\"table\">\n                            <table>\n                                <thead>\n                                    <th>序号</th>\n                                    <th>用户</th>\n                                    <th>商品</th>\n                                    <th>商品数量</th>\n                                    <th>操作</th>\n                                </thead>\n                                <tbody>\n                                    <tr v-for=\"(row,index) in list\" :key=\"index\">\n                                    <td>{{row.id}}</td>\n                                    <td>{{row.$user?row.$user.username:'-'}}</td>\n                                    <td>{{row.$product?row.$product.name:'-'}}</td>\n                                    <td>{{row.count||'-'}}</td>\n                                    <td>\n                                        <button @click=\"update(row)\">编辑</button>\n                                        <button @click=\"remove(row.id)\">删除</button>\n                                    </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                        <pagination :limit=\"limit\" :totalCount=\"total\" :onChange=\"on_page_change\"/>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport AdminPage from '../../mixin/AdminPage';\n\nexport default {\n  created() {\n    this.model = \"cart\";\n  },\n  data() {\n    return {\n        searchable:['name'],\n        with:[\n            {model:'user',relation:'has_one'},\n            {model:'product',relation:'has_one'},\n        ],\n    };\n  },\n  mounted() {\n      this.read_by_model('user');\n      this.read_by_model('product');\n  },\n  methods:{\n    set_user_id(row){\n        this.$set(this.current,'user_id',row.id);\n    },\n    set_product_id(row){\n        this.$set(this.current,'product_id',row.id);\n    },\n    \n  },\n  mixins:[AdminPage],\n};\n</script>\n<style scoped>\n.input-control {\n    display: block;\n    margin: 15px 0;\n}\n.input-control button,\nbutton:hover {\n  background: #0b5a81;\n  color: #fff;\n}\n.input-control button {\n  margin: 0px 10px;\n}\n</style>\n"]}